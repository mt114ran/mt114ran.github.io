<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/19bdf9af4d1ae4d4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-aa7deb192a774533.js"/><script src="/_next/static/chunks/4bd1b696-bc089769d60af88b.js" async=""></script><script src="/_next/static/chunks/1684-b369840b16e4c44b.js" async=""></script><script src="/_next/static/chunks/main-app-2ed07751e45c2a2f.js" async=""></script><script src="/_next/static/chunks/6874-6c1ddde525f3893c.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" href="/favicon.png" type="image/png"/><title>Maita Tomoya Dev IO</title><meta name="description" content="米田智哉の技術ブログ。キャッチアップしたことをメモします。"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="max-w-2xl mx-auto py-10 px-4"><h1 class="text-3xl font-bold mb-2"><span class="text-green-600">#<!-- -->28</span> <!-- -->npm基本コマンド完全ガイド：初心者が知るべきnpmの仕組みと実行内容</h1><ul class="list-none border-b border-gray-600 pb-4 mb-6"><li class="text-gray-500 text-sm">作成日時: <!-- -->2025-08-10 16:45</li><li class="flex flex-wrap gap-2 mt-2"><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">npm</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Node.js</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">JavaScript</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">初心者向け</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">パッケージ管理</span></li></ul><nav class="mb-6 pb-4 border-b border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav><article class="prose dark:prose-invert"><p>JavaScriptプロジェクトを開発する際、必ず遭遇するのが<code>npm</code>コマンドです。「とりあえず<code>npm install</code>を実行して」と言われても、実際に何が起きているのか分からないまま使っている方も多いのではないでしょうか。本記事では、npmの基本コマンドが裏側で何をしているのか、どんなファイルが作成されるのかを詳しく解説します。</p>
<h2 id="npmとは何か">npmとは何か？</h2>
<p>npm（Node Package Manager）は、JavaScriptのパッケージ管理ツールです。以下の3つの意味があります：</p>
<ol>
<li><strong>コマンドラインツール</strong>：<code>npm</code>コマンドそのもの</li>
<li><strong>パッケージレジストリ</strong>：npmjs.comで公開されているパッケージのデータベース</li>
<li><strong>パッケージ管理システム</strong>：依存関係の解決とバージョン管理の仕組み</li>
</ol>
<h2 id="重要なファイルの役割">重要なファイルの役割</h2>
<p>npmを理解するには、まず関連するファイルを知る必要があります。</p>
<h3 id="packagejson">package.json</h3>
<p>プロジェクトの設定ファイルです。以下の情報が含まれます：</p>
<pre><code class="language-json">{
  "name": "my-project",
  "version": "1.0.0",
  "description": "プロジェクトの説明",
  "scripts": {
    "start": "node index.js",
    "build": "webpack --mode production",
    "test": "jest"
  },
  "dependencies": {
    "express": "^4.18.0",
    "axios": "^1.5.0"
  },
  "devDependencies": {
    "webpack": "^5.88.0",
    "jest": "^29.6.0"
  }
}
</code></pre>
<h4 id="各セクションの意味">各セクションの意味：</h4>
<ul>
<li><strong>name/version</strong>: パッケージの識別情報</li>
<li><strong>scripts</strong>: カスタムコマンドの定義</li>
<li><strong>dependencies</strong>: 本番環境で必要なパッケージ</li>
<li><strong>devDependencies</strong>: 開発時のみ必要なパッケージ</li>
</ul>
<h3 id="package-lockjson">package-lock.json</h3>
<p>依存関係の正確なバージョンを記録するファイルです。</p>
<pre><code class="language-json">{
  "name": "my-project",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "packages": {
    "": {
      "name": "my-project",
      "version": "1.0.0",
      "dependencies": {
        "express": "^4.18.0"
      }
    },
    "node_modules/express": {
      "version": "4.18.2",
      "resolved": "https://registry.npmjs.org/express/-/express-4.18.2.tgz",
      "integrity": "sha512-...",
      "dependencies": {
        "accepts": "~1.3.8",
        "body-parser": "1.20.1"
      }
    }
  }
}
</code></pre>
<p><strong>重要な特徴：</strong></p>
<ul>
<li>正確なバージョンを固定（4.18.2など）</li>
<li>依存関係の依存関係も記録</li>
<li>チーム全員が同じバージョンを使用できる</li>
</ul>
<h3 id="node_modules">node_modules/</h3>
<p>実際のパッケージコードが保存されるディレクトリです。</p>
<pre><code>node_modules/
├── express/
│   ├── package.json
│   ├── index.js
│   └── lib/
├── axios/
│   ├── package.json
│   ├── dist/
│   └── lib/
└── ... (数百〜数千のパッケージ)
</code></pre>
<h2 id="基本コマンドの詳細解説">基本コマンドの詳細解説</h2>
<h3 id="1-npm-init">1. npm init</h3>
<p><strong>目的：</strong> 新しいプロジェクトを初期化</p>
<p><strong>実行内容：</strong></p>
<pre><code class="language-bash">$ npm init
</code></pre>
<p><strong>何が起きるか：</strong></p>
<ol>
<li>対話形式で質問が表示される</li>
<li>package.jsonファイルが作成される</li>
</ol>
<p><strong>実際の動作を見てみましょう：</strong></p>
<pre><code class="language-bash"># 対話形式での初期化
$ npm init
package name: (my-project)
version: (1.0.0)
description: サンプルプロジェクト
entry point: (index.js)
test command: jest
git repository:
keywords:
author: Taro Yamada
license: (ISC) MIT

# 結果：package.jsonが作成される
</code></pre>
<p><strong>便利なオプション：</strong></p>
<pre><code class="language-bash"># 質問をスキップしてデフォルト値で作成
$ npm init -y

# ESモジュール対応のプロジェクトとして初期化
$ npm init -y &#x26;&#x26; npm pkg set type="module"
</code></pre>
<h3 id="2-npm-install">2. npm install</h3>
<p><strong>目的：</strong> 依存パッケージをインストール</p>
<p><strong>パターン1：すべての依存関係をインストール</strong></p>
<pre><code class="language-bash">$ npm install
# または省略形
$ npm i
</code></pre>
<p><strong>何が起きるか：</strong></p>
<ol>
<li>package.jsonの<code>dependencies</code>と<code>devDependencies</code>を読み取る</li>
<li>package-lock.jsonがあればそのバージョンを使用</li>
<li>node_modulesディレクトリにパッケージをダウンロード</li>
<li>package-lock.jsonを作成/更新</li>
</ol>
<p><strong>実行過程の詳細：</strong></p>
<pre><code class="language-bash">$ npm install

# 1. パッケージ情報の取得
# → npmレジストリにアクセス

# 2. 依存関係の解決
# → 各パッケージが必要とするパッケージも計算

# 3. ダウンロード
added 523 packages, and audited 524 packages in 15s

# 4. 脆弱性チェック
found 0 vulnerabilities
</code></pre>
<p><strong>パターン2：特定のパッケージをインストール</strong></p>
<pre><code class="language-bash"># 本番用の依存関係として追加
$ npm install express
# → package.jsonのdependenciesに追加
# → node_modules/express/にインストール

# 開発用の依存関係として追加
$ npm install --save-dev webpack
# または
$ npm install -D webpack
# → package.jsonのdevDependenciesに追加
</code></pre>
<p><strong>パターン3：グローバルインストール</strong></p>
<pre><code class="language-bash">$ npm install -g typescript
# → システム全体で使用可能
# → /usr/local/lib/node_modules/にインストール（macOS/Linux）
# → %AppData%\npm\node_modules\にインストール（Windows）
</code></pre>
<h3 id="3-npm-ci">3. npm ci</h3>
<p><strong>目的：</strong> CIや本番環境向けの確実なインストール</p>
<pre><code class="language-bash">$ npm ci
</code></pre>
<p><strong>npm installとの違い：</strong></p>






























<table><thead><tr><th>項目</th><th>npm install</th><th>npm ci</th></tr></thead><tbody><tr><td>package-lock.json</td><td>更新する可能性あり</td><td>絶対に更新しない</td></tr><tr><td>node_modules</td><td>部分更新</td><td>完全削除して再作成</td></tr><tr><td>速度</td><td>やや遅い</td><td>高速</td></tr><tr><td>用途</td><td>開発時</td><td>CI/本番デプロイ</td></tr></tbody></table>
<p><strong>実行例：</strong></p>
<pre><code class="language-bash"># node_modulesを削除してから実行
$ rm -rf node_modules
$ npm ci

# 以下のような場合はエラーになる
# - package-lock.jsonが存在しない
# - package.jsonとpackage-lock.jsonが一致しない
</code></pre>
<h3 id="4-npm-run">4. npm run</h3>
<p><strong>目的：</strong> package.jsonに定義されたスクリプトを実行</p>
<p><strong>基本的な使い方：</strong></p>
<pre><code class="language-json">// package.json
{
  "scripts": {
    "start": "node server.js",
    "build": "webpack --mode production",
    "test": "jest",
    "dev": "nodemon server.js",
    "lint": "eslint src/**/*.js"
  }
}
</code></pre>
<pre><code class="language-bash"># スクリプトの実行
$ npm run start   # node server.jsが実行される
$ npm run build   # webpack --mode productionが実行される
$ npm run test    # jestが実行される
</code></pre>
<p><strong>特別な省略形：</strong></p>
<pre><code class="language-bash"># start, test, stopは"run"を省略可能
$ npm start   # npm run startと同じ
$ npm test    # npm run testと同じ
</code></pre>
<p><strong>実行時に何が起きるか：</strong></p>
<ol>
<li><strong>PATH環境変数の拡張</strong></li>
</ol>
<pre><code class="language-bash"># npm runを実行すると、一時的にPATHが拡張される
PATH=$PATH:./node_modules/.bin

# これにより、ローカルにインストールしたツールが使える
$ npm run build
# → ./node_modules/.bin/webpackが実行される
</code></pre>
<ol start="2">
<li><strong>環境変数の設定</strong></li>
</ol>
<pre><code class="language-json">{
  "scripts": {
    "build:prod": "NODE_ENV=production webpack",
    "build:dev": "NODE_ENV=development webpack"
  }
}
</code></pre>
<ol start="3">
<li><strong>複数コマンドの連結</strong></li>
</ol>
<pre><code class="language-json">{
  "scripts": {
    "clean": "rm -rf dist",
    "build": "webpack",
    "deploy": "npm run clean &#x26;&#x26; npm run build &#x26;&#x26; aws s3 sync dist/ s3://my-bucket"
  }
}
</code></pre>
<h3 id="5-npm-run-buildよくある例">5. npm run build（よくある例）</h3>
<p><strong>目的：</strong> プロジェクトをビルド（本番用に最適化）</p>
<p><strong>一般的な設定例：</strong></p>
<pre><code class="language-json">{
  "scripts": {
    "build": "webpack --mode production"
  }
}
</code></pre>
<p><strong>実行時に何が起きるか：</strong></p>
<pre><code class="language-bash">$ npm run build

# 1. webpackが起動
# 2. すべてのJavaScriptファイルを解析
# 3. 依存関係を解決
# 4. バンドル（結合）
# 5. 最小化（minify）
# 6. distディレクトリに出力

# 実行結果の例
asset main.js 125 KiB [emitted] [minimized] (name: main)
asset index.html 267 bytes [emitted]
webpack 5.88.0 compiled successfully in 3251 ms
</code></pre>
<p><strong>ビルド前後の比較：</strong></p>
<pre><code># ビルド前（開発用）
src/
├── index.js (10KB)
├── components/
│   ├── Header.js (5KB)
│   └── Footer.js (3KB)
└── utils/
    └── api.js (8KB)

# ビルド後（本番用）
dist/
├── main.js (15KB) # 最小化済み
├── main.js.map    # ソースマップ
└── index.html
</code></pre>
<h2 id="その他の重要なコマンド">その他の重要なコマンド</h2>
<h3 id="npm-update">npm update</h3>
<p><strong>依存パッケージを更新：</strong></p>
<pre><code class="language-bash"># すべてのパッケージを更新
$ npm update

# 特定のパッケージを更新
$ npm update express

# 更新可能なパッケージを確認
$ npm outdated
Package    Current  Wanted  Latest
express    4.17.1   4.18.2  5.0.0
</code></pre>
<h3 id="npm-uninstall">npm uninstall</h3>
<p><strong>パッケージを削除：</strong></p>
<pre><code class="language-bash"># パッケージを削除
$ npm uninstall express

# 省略形
$ npm un express
$ npm rm express

# グローバルパッケージを削除
$ npm uninstall -g typescript
</code></pre>
<h3 id="npm-list">npm list</h3>
<p><strong>インストール済みパッケージを確認：</strong></p>
<pre><code class="language-bash"># すべての依存関係をツリー表示
$ npm list

# 第1階層のみ表示
$ npm list --depth=0

# グローバルパッケージを表示
$ npm list -g --depth=0
</code></pre>
<h3 id="npm-audit">npm audit</h3>
<p><strong>セキュリティ脆弱性をチェック：</strong></p>
<pre><code class="language-bash"># 脆弱性をチェック
$ npm audit

# 自動修正
$ npm audit fix

# 破壊的変更も含めて修正
$ npm audit fix --force
</code></pre>
<h2 id="よくあるトラブルと解決方法">よくあるトラブルと解決方法</h2>
<h3 id="1-パッケージのバージョン不一致">1. パッケージのバージョン不一致</h3>
<p><strong>問題：</strong> チームメンバー間で異なるバージョンがインストールされる</p>
<p><strong>解決方法：</strong></p>
<pre><code class="language-bash"># package-lock.jsonをコミット
$ git add package-lock.json
$ git commit -m "Lock dependency versions"

# チームメンバーはnpm ciを使用
$ npm ci
</code></pre>
<h3 id="2-node_modulesが巨大になる">2. node_modulesが巨大になる</h3>
<p><strong>問題：</strong> node_modulesが数百MB〜数GBになる</p>
<p><strong>解決方法：</strong></p>
<pre><code class="language-bash"># 不要なパッケージを削除
$ npm prune

# キャッシュをクリア
$ npm cache clean --force

# node_modulesを削除して再インストール
$ rm -rf node_modules package-lock.json
$ npm install
</code></pre>
<h3 id="3-パーミッションエラーグローバルインストール時">3. パーミッションエラー（グローバルインストール時）</h3>
<p><strong>問題：</strong> <code>EACCES: permission denied</code>エラー</p>
<p><strong>解決方法：</strong></p>
<pre><code class="language-bash"># npmのデフォルトディレクトリを変更
$ mkdir ~/.npm-global
$ npm config set prefix '~/.npm-global'
$ echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
$ source ~/.bashrc
</code></pre>
<h2 id="ベストプラクティス">ベストプラクティス</h2>
<h3 id="1-package-lockjsonは必ずコミットする">1. package-lock.jsonは必ずコミットする</h3>
<pre><code class="language-bash"># .gitignoreの設定例
node_modules/
*.log
.env
# package-lock.jsonは除外しない！
</code></pre>
<h3 id="2-本番環境では--productionフラグを使用">2. 本番環境では--productionフラグを使用</h3>
<pre><code class="language-bash"># 本番環境でのインストール（devDependenciesを除外）
$ npm ci --production
</code></pre>
<h3 id="3-スクリプトの命名規則を統一">3. スクリプトの命名規則を統一</h3>
<pre><code class="language-json">{
  "scripts": {
    "dev": "開発サーバー起動",
    "build": "本番ビルド",
    "test": "テスト実行",
    "lint": "コード品質チェック",
    "format": "コード整形"
  }
}
</code></pre>
<h3 id="4-npxを活用する">4. npxを活用する</h3>
<pre><code class="language-bash"># パッケージをインストールせずに実行
$ npx create-react-app my-app

# 特定バージョンを実行
$ npx webpack@4 --version
</code></pre>
<h2 id="実践例新規プロジェクトの立ち上げ">実践例：新規プロジェクトの立ち上げ</h2>
<p>実際にReactプロジェクトを立ち上げる流れを見てみましょう：</p>
<pre><code class="language-bash"># 1. プロジェクトディレクトリを作成
$ mkdir my-react-app
$ cd my-react-app

# 2. package.jsonを初期化
$ npm init -y

# 3. 必要なパッケージをインストール
$ npm install react react-dom
$ npm install -D webpack webpack-cli webpack-dev-server
$ npm install -D @babel/core @babel/preset-react babel-loader

# 4. スクリプトを追加
$ npm pkg set scripts.start="webpack-dev-server --mode development"
$ npm pkg set scripts.build="webpack --mode production"

# 5. 開発開始
$ npm start

# 6. ビルド
$ npm run build
</code></pre>
<h2 id="まとめ">まとめ</h2>
<p>npmコマンドは単にパッケージをインストールするだけでなく、以下の重要な役割があります：</p>
<ol>
<li><strong>依存関係の管理</strong>：必要なパッケージとそのバージョンを管理</li>
<li><strong>スクリプトの実行</strong>：開発に必要な様々なタスクを自動化</li>
<li><strong>チーム開発の標準化</strong>：全員が同じ環境で開発できる</li>
</ol>
<p>最初は<code>npm install</code>と<code>npm run</code>だけでも十分ですが、各コマンドが何をしているかを理解することで、トラブルシューティングやより効率的な開発が可能になります。</p>
<h2 id="次のステップ">次のステップ</h2>
<ul>
<li><strong>yarn</strong>や<strong>pnpm</strong>などの代替パッケージマネージャーを試す</li>
<li><strong>npm workspace</strong>でモノレポ管理を学ぶ</li>
<li><strong>npm publish</strong>で自作パッケージを公開する</li>
<li><strong>GitHub Actions</strong>でCI/CDパイプラインを構築する</li>
</ul>
<p>これらの基本を押さえることで、JavaScriptプロジェクトの開発がよりスムーズになるはずです。</p>
<h2 id="参考リンク">参考リンク</h2>
<ul>
<li><a href="https://docs.npmjs.com/">npm公式ドキュメント</a></li>
<li><a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json">package.jsonの仕様</a></li>
<li><a href="https://semver.npmjs.com/">npm semver calculator</a></li>
<li><a href="https://nodejs.org/">Node.js公式サイト</a></li>
</ul></article><nav class="mt-8 pt-4 border-t border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-aa7deb192a774533.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[87555,[],\"\"]\n3:I[31295,[],\"\"]\n5:I[59665,[],\"MetadataBoundary\"]\n7:I[59665,[],\"OutletBoundary\"]\na:I[74911,[],\"AsyncMetadataOutlet\"]\nc:I[59665,[],\"ViewportBoundary\"]\ne:I[26614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"CMxdg3PnUz1MVzpkS50wb\",\"p\":\"\",\"c\":[\"\",\"blog\",\"npm-commands-complete-guide\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"npm-commands-complete-guide\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"type\":\"image/png\"}]}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"npm-commands-complete-guide\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[\"$\",\"$L5\",null,{\"children\":\"$L6\"}],null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"12dsOIkVZKctZyehyXeh5\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:\"$Sreact.suspense\"\n10:I[74911,[],\"AsyncMetadata\"]\n6:[\"$\",\"$f\",null,{\"fallback\":null,\"children\":[\"$\",\"$L10\",null,{\"promise\":\"$@11\"}]}]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script><script>self.__next_f.push([1,"12:I[6874,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"\"]\n14:I[31203,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n15:I[4197,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n13:T421e,"])</script><script>self.__next_f.push([1,"\u003cp\u003eJavaScriptプロジェクトを開発する際、必ず遭遇するのが\u003ccode\u003enpm\u003c/code\u003eコマンドです。「とりあえず\u003ccode\u003enpm install\u003c/code\u003eを実行して」と言われても、実際に何が起きているのか分からないまま使っている方も多いのではないでしょうか。本記事では、npmの基本コマンドが裏側で何をしているのか、どんなファイルが作成されるのかを詳しく解説します。\u003c/p\u003e\n\u003ch2 id=\"npmとは何か\"\u003enpmとは何か？\u003c/h2\u003e\n\u003cp\u003enpm（Node Package Manager）は、JavaScriptのパッケージ管理ツールです。以下の3つの意味があります：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eコマンドラインツール\u003c/strong\u003e：\u003ccode\u003enpm\u003c/code\u003eコマンドそのもの\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eパッケージレジストリ\u003c/strong\u003e：npmjs.comで公開されているパッケージのデータベース\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eパッケージ管理システム\u003c/strong\u003e：依存関係の解決とバージョン管理の仕組み\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"重要なファイルの役割\"\u003e重要なファイルの役割\u003c/h2\u003e\n\u003cp\u003enpmを理解するには、まず関連するファイルを知る必要があります。\u003c/p\u003e\n\u003ch3 id=\"packagejson\"\u003epackage.json\u003c/h3\u003e\n\u003cp\u003eプロジェクトの設定ファイルです。以下の情報が含まれます：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"name\": \"my-project\",\n  \"version\": \"1.0.0\",\n  \"description\": \"プロジェクトの説明\",\n  \"scripts\": {\n    \"start\": \"node index.js\",\n    \"build\": \"webpack --mode production\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.18.0\",\n    \"axios\": \"^1.5.0\"\n  },\n  \"devDependencies\": {\n    \"webpack\": \"^5.88.0\",\n    \"jest\": \"^29.6.0\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"各セクションの意味\"\u003e各セクションの意味：\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ename/version\u003c/strong\u003e: パッケージの識別情報\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003escripts\u003c/strong\u003e: カスタムコマンドの定義\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edependencies\u003c/strong\u003e: 本番環境で必要なパッケージ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edevDependencies\u003c/strong\u003e: 開発時のみ必要なパッケージ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"package-lockjson\"\u003epackage-lock.json\u003c/h3\u003e\n\u003cp\u003e依存関係の正確なバージョンを記録するファイルです。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"name\": \"my-project\",\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 3,\n  \"packages\": {\n    \"\": {\n      \"name\": \"my-project\",\n      \"version\": \"1.0.0\",\n      \"dependencies\": {\n        \"express\": \"^4.18.0\"\n      }\n    },\n    \"node_modules/express\": {\n      \"version\": \"4.18.2\",\n      \"resolved\": \"https://registry.npmjs.org/express/-/express-4.18.2.tgz\",\n      \"integrity\": \"sha512-...\",\n      \"dependencies\": {\n        \"accepts\": \"~1.3.8\",\n        \"body-parser\": \"1.20.1\"\n      }\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e重要な特徴：\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e正確なバージョンを固定（4.18.2など）\u003c/li\u003e\n\u003cli\u003e依存関係の依存関係も記録\u003c/li\u003e\n\u003cli\u003eチーム全員が同じバージョンを使用できる\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"node_modules\"\u003enode_modules/\u003c/h3\u003e\n\u003cp\u003e実際のパッケージコードが保存されるディレクトリです。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enode_modules/\n├── express/\n│   ├── package.json\n│   ├── index.js\n│   └── lib/\n├── axios/\n│   ├── package.json\n│   ├── dist/\n│   └── lib/\n└── ... (数百〜数千のパッケージ)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"基本コマンドの詳細解説\"\u003e基本コマンドの詳細解説\u003c/h2\u003e\n\u003ch3 id=\"1-npm-init\"\u003e1. npm init\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e目的：\u003c/strong\u003e 新しいプロジェクトを初期化\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e実行内容：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm init\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e何が起きるか：\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e対話形式で質問が表示される\u003c/li\u003e\n\u003cli\u003epackage.jsonファイルが作成される\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e実際の動作を見てみましょう：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 対話形式での初期化\n$ npm init\npackage name: (my-project)\nversion: (1.0.0)\ndescription: サンプルプロジェクト\nentry point: (index.js)\ntest command: jest\ngit repository:\nkeywords:\nauthor: Taro Yamada\nlicense: (ISC) MIT\n\n# 結果：package.jsonが作成される\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e便利なオプション：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 質問をスキップしてデフォルト値で作成\n$ npm init -y\n\n# ESモジュール対応のプロジェクトとして初期化\n$ npm init -y \u0026#x26;\u0026#x26; npm pkg set type=\"module\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-npm-install\"\u003e2. npm install\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e目的：\u003c/strong\u003e 依存パッケージをインストール\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eパターン1：すべての依存関係をインストール\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm install\n# または省略形\n$ npm i\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e何が起きるか：\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003epackage.jsonの\u003ccode\u003edependencies\u003c/code\u003eと\u003ccode\u003edevDependencies\u003c/code\u003eを読み取る\u003c/li\u003e\n\u003cli\u003epackage-lock.jsonがあればそのバージョンを使用\u003c/li\u003e\n\u003cli\u003enode_modulesディレクトリにパッケージをダウンロード\u003c/li\u003e\n\u003cli\u003epackage-lock.jsonを作成/更新\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e実行過程の詳細：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm install\n\n# 1. パッケージ情報の取得\n# → npmレジストリにアクセス\n\n# 2. 依存関係の解決\n# → 各パッケージが必要とするパッケージも計算\n\n# 3. ダウンロード\nadded 523 packages, and audited 524 packages in 15s\n\n# 4. 脆弱性チェック\nfound 0 vulnerabilities\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eパターン2：特定のパッケージをインストール\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 本番用の依存関係として追加\n$ npm install express\n# → package.jsonのdependenciesに追加\n# → node_modules/express/にインストール\n\n# 開発用の依存関係として追加\n$ npm install --save-dev webpack\n# または\n$ npm install -D webpack\n# → package.jsonのdevDependenciesに追加\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eパターン3：グローバルインストール\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm install -g typescript\n# → システム全体で使用可能\n# → /usr/local/lib/node_modules/にインストール（macOS/Linux）\n# → %AppData%\\npm\\node_modules\\にインストール（Windows）\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-npm-ci\"\u003e3. npm ci\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e目的：\u003c/strong\u003e CIや本番環境向けの確実なインストール\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm ci\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003enpm installとの違い：\u003c/strong\u003e\u003c/p\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003e項目\u003c/th\u003e\u003cth\u003enpm install\u003c/th\u003e\u003cth\u003enpm ci\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003epackage-lock.json\u003c/td\u003e\u003ctd\u003e更新する可能性あり\u003c/td\u003e\u003ctd\u003e絶対に更新しない\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003enode_modules\u003c/td\u003e\u003ctd\u003e部分更新\u003c/td\u003e\u003ctd\u003e完全削除して再作成\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e速度\u003c/td\u003e\u003ctd\u003eやや遅い\u003c/td\u003e\u003ctd\u003e高速\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e用途\u003c/td\u003e\u003ctd\u003e開発時\u003c/td\u003e\u003ctd\u003eCI/本番デプロイ\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003e実行例：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# node_modulesを削除してから実行\n$ rm -rf node_modules\n$ npm ci\n\n# 以下のような場合はエラーになる\n# - package-lock.jsonが存在しない\n# - package.jsonとpackage-lock.jsonが一致しない\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"4-npm-run\"\u003e4. npm run\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e目的：\u003c/strong\u003e package.jsonに定義されたスクリプトを実行\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e基本的な使い方：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e// package.json\n{\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"build\": \"webpack --mode production\",\n    \"test\": \"jest\",\n    \"dev\": \"nodemon server.js\",\n    \"lint\": \"eslint src/**/*.js\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# スクリプトの実行\n$ npm run start   # node server.jsが実行される\n$ npm run build   # webpack --mode productionが実行される\n$ npm run test    # jestが実行される\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e特別な省略形：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# start, test, stopは\"run\"を省略可能\n$ npm start   # npm run startと同じ\n$ npm test    # npm run testと同じ\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e実行時に何が起きるか：\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003ePATH環境変数の拡張\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# npm runを実行すると、一時的にPATHが拡張される\nPATH=$PATH:./node_modules/.bin\n\n# これにより、ローカルにインストールしたツールが使える\n$ npm run build\n# → ./node_modules/.bin/webpackが実行される\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cstrong\u003e環境変数の設定\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"scripts\": {\n    \"build:prod\": \"NODE_ENV=production webpack\",\n    \"build:dev\": \"NODE_ENV=development webpack\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\u003cstrong\u003e複数コマンドの連結\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"scripts\": {\n    \"clean\": \"rm -rf dist\",\n    \"build\": \"webpack\",\n    \"deploy\": \"npm run clean \u0026#x26;\u0026#x26; npm run build \u0026#x26;\u0026#x26; aws s3 sync dist/ s3://my-bucket\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"5-npm-run-buildよくある例\"\u003e5. npm run build（よくある例）\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e目的：\u003c/strong\u003e プロジェクトをビルド（本番用に最適化）\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e一般的な設定例：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"scripts\": {\n    \"build\": \"webpack --mode production\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e実行時に何が起きるか：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ npm run build\n\n# 1. webpackが起動\n# 2. すべてのJavaScriptファイルを解析\n# 3. 依存関係を解決\n# 4. バンドル（結合）\n# 5. 最小化（minify）\n# 6. distディレクトリに出力\n\n# 実行結果の例\nasset main.js 125 KiB [emitted] [minimized] (name: main)\nasset index.html 267 bytes [emitted]\nwebpack 5.88.0 compiled successfully in 3251 ms\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eビルド前後の比較：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# ビルド前（開発用）\nsrc/\n├── index.js (10KB)\n├── components/\n│   ├── Header.js (5KB)\n│   └── Footer.js (3KB)\n└── utils/\n    └── api.js (8KB)\n\n# ビルド後（本番用）\ndist/\n├── main.js (15KB) # 最小化済み\n├── main.js.map    # ソースマップ\n└── index.html\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"その他の重要なコマンド\"\u003eその他の重要なコマンド\u003c/h2\u003e\n\u003ch3 id=\"npm-update\"\u003enpm update\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e依存パッケージを更新：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# すべてのパッケージを更新\n$ npm update\n\n# 特定のパッケージを更新\n$ npm update express\n\n# 更新可能なパッケージを確認\n$ npm outdated\nPackage    Current  Wanted  Latest\nexpress    4.17.1   4.18.2  5.0.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"npm-uninstall\"\u003enpm uninstall\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eパッケージを削除：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# パッケージを削除\n$ npm uninstall express\n\n# 省略形\n$ npm un express\n$ npm rm express\n\n# グローバルパッケージを削除\n$ npm uninstall -g typescript\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"npm-list\"\u003enpm list\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eインストール済みパッケージを確認：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# すべての依存関係をツリー表示\n$ npm list\n\n# 第1階層のみ表示\n$ npm list --depth=0\n\n# グローバルパッケージを表示\n$ npm list -g --depth=0\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"npm-audit\"\u003enpm audit\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eセキュリティ脆弱性をチェック：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 脆弱性をチェック\n$ npm audit\n\n# 自動修正\n$ npm audit fix\n\n# 破壊的変更も含めて修正\n$ npm audit fix --force\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"よくあるトラブルと解決方法\"\u003eよくあるトラブルと解決方法\u003c/h2\u003e\n\u003ch3 id=\"1-パッケージのバージョン不一致\"\u003e1. パッケージのバージョン不一致\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e問題：\u003c/strong\u003e チームメンバー間で異なるバージョンがインストールされる\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決方法：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# package-lock.jsonをコミット\n$ git add package-lock.json\n$ git commit -m \"Lock dependency versions\"\n\n# チームメンバーはnpm ciを使用\n$ npm ci\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-node_modulesが巨大になる\"\u003e2. node_modulesが巨大になる\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e問題：\u003c/strong\u003e node_modulesが数百MB〜数GBになる\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決方法：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 不要なパッケージを削除\n$ npm prune\n\n# キャッシュをクリア\n$ npm cache clean --force\n\n# node_modulesを削除して再インストール\n$ rm -rf node_modules package-lock.json\n$ npm install\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-パーミッションエラーグローバルインストール時\"\u003e3. パーミッションエラー（グローバルインストール時）\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e問題：\u003c/strong\u003e \u003ccode\u003eEACCES: permission denied\u003c/code\u003eエラー\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決方法：\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# npmのデフォルトディレクトリを変更\n$ mkdir ~/.npm-global\n$ npm config set prefix '~/.npm-global'\n$ echo 'export PATH=~/.npm-global/bin:$PATH' \u003e\u003e ~/.bashrc\n$ source ~/.bashrc\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"ベストプラクティス\"\u003eベストプラクティス\u003c/h2\u003e\n\u003ch3 id=\"1-package-lockjsonは必ずコミットする\"\u003e1. package-lock.jsonは必ずコミットする\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# .gitignoreの設定例\nnode_modules/\n*.log\n.env\n# package-lock.jsonは除外しない！\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-本番環境では--productionフラグを使用\"\u003e2. 本番環境では--productionフラグを使用\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 本番環境でのインストール（devDependenciesを除外）\n$ npm ci --production\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-スクリプトの命名規則を統一\"\u003e3. スクリプトの命名規則を統一\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \"scripts\": {\n    \"dev\": \"開発サーバー起動\",\n    \"build\": \"本番ビルド\",\n    \"test\": \"テスト実行\",\n    \"lint\": \"コード品質チェック\",\n    \"format\": \"コード整形\"\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"4-npxを活用する\"\u003e4. npxを活用する\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# パッケージをインストールせずに実行\n$ npx create-react-app my-app\n\n# 特定バージョンを実行\n$ npx webpack@4 --version\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"実践例新規プロジェクトの立ち上げ\"\u003e実践例：新規プロジェクトの立ち上げ\u003c/h2\u003e\n\u003cp\u003e実際にReactプロジェクトを立ち上げる流れを見てみましょう：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 1. プロジェクトディレクトリを作成\n$ mkdir my-react-app\n$ cd my-react-app\n\n# 2. package.jsonを初期化\n$ npm init -y\n\n# 3. 必要なパッケージをインストール\n$ npm install react react-dom\n$ npm install -D webpack webpack-cli webpack-dev-server\n$ npm install -D @babel/core @babel/preset-react babel-loader\n\n# 4. スクリプトを追加\n$ npm pkg set scripts.start=\"webpack-dev-server --mode development\"\n$ npm pkg set scripts.build=\"webpack --mode production\"\n\n# 5. 開発開始\n$ npm start\n\n# 6. ビルド\n$ npm run build\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"まとめ\"\u003eまとめ\u003c/h2\u003e\n\u003cp\u003enpmコマンドは単にパッケージをインストールするだけでなく、以下の重要な役割があります：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e依存関係の管理\u003c/strong\u003e：必要なパッケージとそのバージョンを管理\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eスクリプトの実行\u003c/strong\u003e：開発に必要な様々なタスクを自動化\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eチーム開発の標準化\u003c/strong\u003e：全員が同じ環境で開発できる\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e最初は\u003ccode\u003enpm install\u003c/code\u003eと\u003ccode\u003enpm run\u003c/code\u003eだけでも十分ですが、各コマンドが何をしているかを理解することで、トラブルシューティングやより効率的な開発が可能になります。\u003c/p\u003e\n\u003ch2 id=\"次のステップ\"\u003e次のステップ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eyarn\u003c/strong\u003eや\u003cstrong\u003epnpm\u003c/strong\u003eなどの代替パッケージマネージャーを試す\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003enpm workspace\u003c/strong\u003eでモノレポ管理を学ぶ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003enpm publish\u003c/strong\u003eで自作パッケージを公開する\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGitHub Actions\u003c/strong\u003eでCI/CDパイプラインを構築する\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれらの基本を押さえることで、JavaScriptプロジェクトの開発がよりスムーズになるはずです。\u003c/p\u003e\n\u003ch2 id=\"参考リンク\"\u003e参考リンク\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.npmjs.com/\"\u003enpm公式ドキュメント\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.npmjs.com/cli/v9/configuring-npm/package-json\"\u003epackage.jsonの仕様\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://semver.npmjs.com/\"\u003enpm semver calculator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nodejs.org/\"\u003eNode.js公式サイト\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold mb-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-green-600\",\"children\":[\"#\",28]}],\" \",\"npm基本コマンド完全ガイド：初心者が知るべきnpmの仕組みと実行内容\"]}],[\"$\",\"ul\",null,{\"className\":\"list-none border-b border-gray-600 pb-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":[\"作成日時: \",\"2025-08-10 16:45\"]}],\"$undefined\",[\"$\",\"li\",null,{\"className\":\"flex flex-wrap gap-2 mt-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"npm\"}],[\"$\",\"span\",\"1\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Node.js\"}],[\"$\",\"span\",\"2\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"JavaScript\"}],[\"$\",\"span\",\"3\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"初心者向け\"}],[\"$\",\"span\",\"4\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"パッケージ管理\"}]]}]]}],[\"$\",\"nav\",null,{\"className\":\"mb-6 pb-4 border-b border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose dark:prose-invert\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}],[\"$\",\"$L14\",null,{}],[\"$\",\"nav\",null,{\"className\":\"mt-8 pt-4 border-t border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"$L15\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"11:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Maita Tomoya Dev IO\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"米田智哉の技術ブログ。キャッチアップしたことをメモします。\"}]],\"error\":null,\"digest\":\"$undefined\"}\nb:{\"metadata\":\"$11:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>