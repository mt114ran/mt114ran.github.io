<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/19bdf9af4d1ae4d4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-aa7deb192a774533.js"/><script src="/_next/static/chunks/4bd1b696-bc089769d60af88b.js" async=""></script><script src="/_next/static/chunks/1684-b369840b16e4c44b.js" async=""></script><script src="/_next/static/chunks/main-app-2ed07751e45c2a2f.js" async=""></script><script src="/_next/static/chunks/6874-6c1ddde525f3893c.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" href="/favicon.png" type="image/png"/><title>Maita Tomoya Dev IO</title><meta name="description" content="米田智哉の技術ブログ。キャッチアップしたことをメモします。"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="max-w-2xl mx-auto py-10 px-4"><h1 class="text-3xl font-bold mb-2"><span class="text-green-600">#<!-- -->49</span> <!-- -->Ruby Pry完全ガイド！デバッグからREPLまで開発効率を劇的に向上させる使い方</h1><ul class="list-none border-b border-gray-600 pb-4 mb-6"><li class="text-gray-500 text-sm">作成日時: <!-- -->2025-09-10 20:27</li><li class="text-gray-500 text-sm">更新日時: <!-- -->2025-09-10 20:27</li><li class="flex flex-wrap gap-2 mt-2"><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Ruby</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Pry</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Debugging</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">REPL</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Development</span></li></ul><nav class="mb-6 pb-4 border-b border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav><article class="prose dark:prose-invert"><h1 id="ruby-pry完全ガイドデバッグからreplまで開発効率を劇的に向上させる使い方">Ruby Pry完全ガイド！デバッグからREPLまで開発効率を劇的に向上させる使い方</h1>
<p>Ruby開発において、<strong>Pry</strong>は標準のirbを大幅に拡張した強力なREPL（Read-Eval-Print Loop）ツールです。シンタックスハイライト、高度なデバッグ機能、ソースコードの閲覧など、開発効率を飛躍的に向上させる機能が満載です。この記事では、Pryの基本から応用まで、実用的な使い方を詳しく解説します。</p>
<h2 id="pryとは">Pryとは</h2>
<p><strong>Pry</strong>は、Rubyの標準REPLである<code>irb</code>を置き換える、より高機能な対話型Ruby実行環境です。2010年にJohn Mairによって開発され、現在では多くのRuby開発者に愛用されています。</p>
<h3 id="irbとpryの違い">irbとPryの違い</h3>








































<table><thead><tr><th>機能</th><th>irb</th><th>Pry</th></tr></thead><tbody><tr><td>シンタックスハイライト</td><td>✗</td><td>✓</td></tr><tr><td>ソースコード表示</td><td>✗</td><td>✓</td></tr><tr><td>高度なデバッグ</td><td>✗</td><td>✓</td></tr><tr><td>履歴管理</td><td>基本的</td><td>高度</td></tr><tr><td>プラグインシステム</td><td>✗</td><td>✓</td></tr><tr><td>オブジェクトイントロスペクション</td><td>基本的</td><td>高度</td></tr></tbody></table>
<h2 id="インストールと基本設定">インストールと基本設定</h2>
<h3 id="インストール方法">インストール方法</h3>
<p><strong>Gemfileに追加（Rails等）:</strong></p>
<pre><code class="language-ruby"># Gemfile
group :development, :test do
  gem 'pry'
  gem 'pry-rails'      # Rails統合
  gem 'pry-byebug'     # デバッガ統合
  gem 'pry-doc'        # ドキュメント表示
end
</code></pre>
<p><strong>単体インストール:</strong></p>
<pre><code class="language-bash">gem install pry pry-byebug pry-doc
</code></pre>
<h3 id="基本的な設定">基本的な設定</h3>
<p><strong>~/.pryrcファイルの作成:</strong></p>
<pre><code class="language-ruby"># ~/.pryrc
Pry.config.editor = 'code'  # Visual Studio Code
# Pry.config.editor = 'vim'  # Vim

# プロンプトのカスタマイズ
Pry.config.prompt = Pry::Prompt.new(
  'custom',
  'カスタムプロンプト',
  [
    proc { |context, nest_level, pry_instance| "[#{context}]> " },
    proc { |context, nest_level, pry_instance| "[#{context}]* " }
  ]
)

# エイリアスの設定
Pry.commands.alias_command 'c', 'continue'
Pry.commands.alias_command 's', 'step'
Pry.commands.alias_command 'n', 'next'
</code></pre>
<h2 id="基本的な使い方">基本的な使い方</h2>
<h3 id="1-replとしての基本操作">1. REPLとしての基本操作</h3>
<pre><code class="language-bash"># Pryの起動
pry

# または、スクリプト内で
binding.pry
</code></pre>
<pre><code class="language-ruby"># 基本的な計算とオブジェクト操作
[1] pry(main)> 2 + 3
=> 5

[2] pry(main)> "Hello World".class
=> String

[3] pry(main)> [1, 2, 3].map(&#x26;:to_s)
=> ["1", "2", "3"]
</code></pre>
<h3 id="2-オブジェクトのイントロスペクション">2. オブジェクトのイントロスペクション</h3>
<pre><code class="language-ruby"># オブジェクトの詳細情報を表示
[1] pry(main)> ls String
String.methods:
  try_convert
String#methods:
  ascii_only?  bytes       each_line    inspect      reverse!    
  bytesize     capitalize  empty?       length       rstrip      
  # ... (省略)

# メソッドのソースコードを表示
[2] pry(main)> show-source String#reverse

From: string.c (C Method):
Owner: String
Visibility: public
Number of lines: 1

Returns a new string with the characters from str in reverse order.

   "stressed".reverse   #=> "desserts"

# メソッドのドキュメントを表示
[3] pry(main)> show-doc String#reverse
</code></pre>
<h3 id="3-クラスモジュール内への移動">3. クラス・モジュール内への移動</h3>
<pre><code class="language-ruby"># クラス内に「cd」で移動
[1] pry(main)> cd String
[2] pry(String):1> ls
String.methods: try_convert
String#methods: ascii_only? bytes capitalize ...

# 戻る
[3] pry(String):1> cd ..
[4] pry(main)> 
</code></pre>
<h2 id="デバッグ機能">デバッグ機能</h2>
<h3 id="1-bindingpryを使ったブレークポイント">1. binding.pryを使ったブレークポイント</h3>
<p><strong>基本的な使い方:</strong></p>
<pre><code class="language-ruby"># debug_example.rb
class Calculator
  def add(a, b)
    binding.pry  # ← ここで実行が止まる
    result = a + b
    binding.pry  # ← 結果を確認したい場合
    result
  end
end

calc = Calculator.new
puts calc.add(5, 3)
</code></pre>
<p><strong>実行結果:</strong></p>
<pre><code class="language-bash">$ ruby debug_example.rb

From: debug_example.rb @ line 3 Calculator#add:

    2: def add(a, b)
 => 3:   binding.pry
    4:   result = a + b
    5:   binding.pry
    6:   result

[1] pry(#&#x3C;Calculator>)> a
=> 5
[2] pry(#&#x3C;Calculator>)> b  
=> 3
[3] pry(#&#x3C;Calculator>)> continue

From: debug_example.rb @ line 5 Calculator#add:

    2: def add(a, b)
    3:   binding.pry
    4:   result = a + b
 => 5:   binding.pry
    6:   result

[4] pry(#&#x3C;Calculator>)> result
=> 8
[5] pry(#&#x3C;Calculator>)> continue
8
</code></pre>
<h3 id="2-pry-byebugを使った高度なデバッグ">2. pry-byebugを使った高度なデバッグ</h3>
<pre><code class="language-ruby"># advanced_debug.rb
require 'pry-byebug'

class UserService
  def initialize(users)
    @users = users
  end

  def find_adult_users
    binding.pry
    adult_users = []
    @users.each do |user|
      if user[:age] >= 18
        adult_users &#x3C;&#x3C; user
      end
    end
    adult_users
  end
end

users = [
  { name: "Alice", age: 25 },
  { name: "Bob", age: 17 },
  { name: "Charlie", age: 30 }
]

service = UserService.new(users)
result = service.find_adult_users
puts result
</code></pre>
<p><strong>デバッグセッションの例:</strong></p>
<pre><code class="language-bash">$ ruby advanced_debug.rb

From: advanced_debug.rb @ line 8 UserService#find_adult_users:

     7: def find_adult_users
  => 8:   binding.pry
     9:   adult_users = []
    10:   @users.each do |user|
    11:     if user[:age] >= 18
    12:       adult_users &#x3C;&#x3C; user
    13:     end
    14:   end

[1] pry(#&#x3C;UserService>)> next  # 次の行に進む

From: advanced_debug.rb @ line 9 UserService#find_adult_users:

     7: def find_adult_users
     8:   binding.pry
  => 9:   adult_users = []
    10:   @users.each do |user|

[2] pry(#&#x3C;UserService>)> step  # メソッド内に入る

From: advanced_debug.rb @ line 10 UserService#find_adult_users:

     8:   binding.pry
     9:   adult_users = []
  => 10:   @users.each do |user|
    11:     if user[:age] >= 18

[3] pry(#&#x3C;UserService>)> @users  # インスタンス変数を確認
=> [{:name=>"Alice", :age=>25}, {:name=>"Bob", :age=>17}, {:name=>"Charlie", :age=>30}]
</code></pre>
<h3 id="3-条件付きブレークポイント">3. 条件付きブレークポイント</h3>
<pre><code class="language-ruby">class DataProcessor
  def process_items(items)
    items.each_with_index do |item, index|
      # 特定の条件でのみ止まる
      binding.pry if item[:status] == 'error'
      
      # または、特定のインデックスで止まる  
      binding.pry if index == 10
      
      process_item(item)
    end
  end

  private

  def process_item(item)
    # アイテムの処理
    puts "Processing: #{item[:name]}"
  end
end
</code></pre>
<h2 id="rails環境での活用">Rails環境での活用</h2>
<h3 id="1-pry-railsの利用">1. pry-railsの利用</h3>
<pre><code class="language-ruby"># Gemfile
gem 'pry-rails', group: [:development, :test]
</code></pre>
<p><strong>rails consoleでPryを使用:</strong></p>
<pre><code class="language-bash">$ rails console
Loading development environment (Rails 7.0.0)
[1] pry(main)> User.first
  User Load (0.3ms)  SELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1
=> #&#x3C;User id: 1, name: "John", email: "john@example.com"...>

[2] pry(main)> cd User
[3] pry(User):1> ls
User.methods:
  all  create  find  find_by  where...
User#methods:  
  email  name  save  update...
</code></pre>
<h3 id="2-コントローラーでのデバッグ">2. コントローラーでのデバッグ</h3>
<pre><code class="language-ruby">class UsersController &#x3C; ApplicationController
  def show
    @user = User.find(params[:id])
    binding.pry  # リクエスト時にここで止まる
    render :show
  end

  def create
    @user = User.new(user_params)
    
    if @user.save
      redirect_to @user
    else
      binding.pry  # バリデーションエラー時の状態を確認
      render :new
    end
  end

  private

  def user_params
    params.require(:user).permit(:name, :email)
  end
end
</code></pre>
<h3 id="3-モデルでのデバッグ">3. モデルでのデバッグ</h3>
<pre><code class="language-ruby">class User &#x3C; ApplicationRecord
  before_save :normalize_email
  
  validates :email, presence: true, uniqueness: true

  private

  def normalize_email
    binding.pry  # メールの正規化処理をデバッグ
    self.email = email.downcase.strip if email.present?
  end
end
</code></pre>
<h2 id="高度な機能">高度な機能</h2>
<h3 id="1-ヒストリー機能">1. ヒストリー機能</h3>
<pre><code class="language-ruby"># ヒストリーの確認
[1] pry(main)> hist
1: 2 + 3
2: "Hello".upcase  
3: [1,2,3].sum

# 特定の履歴を再実行
[2] pry(main)> hist -r 2  # 2番目のコマンドを再実行
=> "HELLO"

# 履歴を保存
[3] pry(main)> save-file /tmp/pry_session.rb 1..3
</code></pre>
<h3 id="2-シェルコマンドの実行">2. シェルコマンドの実行</h3>
<pre><code class="language-ruby"># シェルコマンドを実行
[1] pry(main)> .ls -la
total 16
drwxr-xr-x   4 user  staff   128  1 10 10:30 .
drwxr-xr-x  20 user  staff   640  1 10 10:29 ..

# 結果をRuby変数に取得
[2] pry(main)> result = `ls -la`.split("\n")
=> ["total 16", "drwxr-xr-x   4 user  staff   128  1 10 10:30 .", ...]
</code></pre>
<h3 id="3-ソースコード編集">3. ソースコード編集</h3>
<pre><code class="language-ruby"># メソッドのソースを編集（エディタで開く）
[1] pry(main)> edit User#full_name

# ファイルを開く
[2] pry(main)> edit app/models/user.rb

# 新しいファイルを作成
[3] pry(main)> edit -t temp  # 一時ファイルを作成
</code></pre>
<h3 id="4-カスタムコマンドの作成">4. カスタムコマンドの作成</h3>
<pre><code class="language-ruby"># ~/.pryrc
Pry::Commands.create_command "greet" do
  description "挨拶をする"
  
  def options(opt)
    opt.on :n, :name=, "名前を指定", argument: true
  end
  
  def process
    name = opts[:name] || "World"
    output.puts "Hello, #{name}!"
  end
end

# 使用例
[1] pry(main)> greet
Hello, World!
[2] pry(main)> greet -n Alice
Hello, Alice!
</code></pre>
<h2 id="テスト環境での活用">テスト環境での活用</h2>
<h3 id="1-rspecとの組み合わせ">1. RSpecとの組み合わせ</h3>
<pre><code class="language-ruby"># spec/models/user_spec.rb
RSpec.describe User, type: :model do
  describe '#full_name' do
    it '姓名を結合して返すこと' do
      user = User.new(first_name: "太郎", last_name: "田中")
      binding.pry  # テスト実行時にここで止まる
      expect(user.full_name).to eq "田中 太郎"
    end
  end
end
</code></pre>
<p><strong>実行:</strong></p>
<pre><code class="language-bash">$ bundle exec rspec spec/models/user_spec.rb

From: spec/models/user_spec.rb @ line 5:

     3: it '姓名を結合して返すこと' do
     4:   user = User.new(first_name: "太郎", last_name: "田中")
  => 5:   binding.pry
     6:   expect(user.full_name).to eq "田中 太郎"

[1] pry(#&#x3C;RSpec::ExampleGroups::User::FullName>)> user
=> #&#x3C;User first_name: "太郎", last_name: "田中">
[2] pry(#&#x3C;RSpec::ExampleGroups::User::FullName>)> user.full_name
=> "田中 太郎"
[3] pry(#&#x3C;RSpec::ExampleGroups::User::FullName>)> continue
</code></pre>
<h3 id="2-minitestとの組み合わせ">2. Minitestとの組み合わせ</h3>
<pre><code class="language-ruby"># test/models/user_test.rb
require 'test_helper'

class UserTest &#x3C; ActiveSupport::TestCase
  test "should create user with valid attributes" do
    user = User.new(name: "Test User", email: "test@example.com")
    binding.pry  # テスト中の状態を確認
    assert user.save
  end
end
</code></pre>
<h2 id="パフォーマンス分析">パフォーマンス分析</h2>
<h3 id="1-ベンチマーク測定">1. ベンチマーク測定</h3>
<pre><code class="language-ruby">require 'benchmark'

# Pry内でベンチマーク実行
[1] pry(main)> benchmark do
[1] pry(main)*   1000.times { "hello".upcase }
[1] pry(main)* end
       user     system      total        real
   0.000123   0.000002   0.000125 (  0.000124)

# メソッドの実行時間測定
[2] pry(main)> time_taken = Benchmark.realtime { User.all.to_a }
=> 0.023456789
</code></pre>
<h3 id="2-メモリ使用量の確認">2. メモリ使用量の確認</h3>
<pre><code class="language-ruby"># メモリ使用量チェック用のヘルパー
def memory_usage
  `ps -o pid,rss -p #{Process.pid}`.strip.split("\n")[1].split[1].to_i
end

[1] pry(main)> before = memory_usage
=> 45678

[2] pry(main)> large_array = (1..1000000).to_a
=> [1, 2, 3, ..., 1000000]

[3] pry(main)> after = memory_usage  
=> 67890

[4] pry(main)> puts "Memory increased: #{after - before} KB"
Memory increased: 22212 KB
</code></pre>
<h2 id="トラブルシューティング">トラブルシューティング</h2>
<h3 id="1-よくある問題と解決法">1. よくある問題と解決法</h3>
<p><strong>Pryが起動しない:</strong></p>
<pre><code class="language-bash"># Gemの確認
gem list | grep pry

# 再インストール
gem uninstall pry
gem install pry
</code></pre>
<p><strong>Rails環境でPryが動かない:</strong></p>
<pre><code class="language-ruby"># Gemfileに正しく記述されているか確認
group :development, :test do
  gem 'pry-rails'
end

# bundle installを実行
bundle install

# Spring使用時はリスタート
bundle exec spring stop
</code></pre>
<h3 id="2-デバッグセッションからの脱出方法">2. デバッグセッションからの脱出方法</h3>
<pre><code class="language-ruby"># 現在のPryセッションから抜ける
[1] pry(main)> exit

# 全てのPryセッションから抜ける（例外を発生）
[2] pry(main)> exit-all

# プログラムの実行を継続
[3] pry(main)> continue

# 一つ上のスコープに戻る
[4] pry(main)> cd ..
</code></pre>
<h2 id="便利なtipsとトリック">便利なTipsとトリック</h2>
<h3 id="1-よく使うエイリアス">1. よく使うエイリアス</h3>
<pre><code class="language-ruby"># ~/.pryrc
Pry.commands.alias_command 'c', 'continue'
Pry.commands.alias_command 'n', 'next' 
Pry.commands.alias_command 's', 'step'
Pry.commands.alias_command 'ss', 'show-source'
Pry.commands.alias_command 'sd', 'show-doc'
</code></pre>
<h3 id="2-カラーテーマのカスタマイズ">2. カラーテーマのカスタマイズ</h3>
<pre><code class="language-ruby"># ~/.pryrc
Pry.config.color = true
Pry.config.theme = "monokai"

# カスタムテーマ
Pry.config.theme = {
  "keyword" => [:blue],
  "method" => [:yellow], 
  "string" => [:green],
  "symbol" => [:red]
}
</code></pre>
<h3 id="3-プロジェクト固有の設定">3. プロジェクト固有の設定</h3>
<pre><code class="language-ruby"># プロジェクトルートに .pryrc
if defined?(Rails)
  # Rails固有のヘルパーメソッド
  def u(id = nil)
    if id
      User.find(id)
    else  
      User.first
    end
  end
  
  def reload!
    Rails.application.reloader.reload!
  end
end
</code></pre>
<h2 id="まとめ">まとめ</h2>
<p>Pryは単なるデバッグツールではなく、Ruby開発の生産性を大幅に向上させる多機能なREPL環境です。重要なポイント：</p>
<h3 id="基本機能">基本機能</h3>
<ul>
<li><strong>シンタックスハイライト</strong> - コードが見やすく、入力ミスを減らす</li>
<li><strong>オブジェクトイントロスペクション</strong> - <code>ls</code>, <code>show-source</code>でコードを深く理解</li>
<li><strong>高度なヒストリー</strong> - 過去のセッションを効果的に活用</li>
</ul>
<h3 id="デバッグ機能-1">デバッグ機能</h3>
<ul>
<li><strong>binding.pry</strong> - 任意の箇所で実行を停止してデバッグ</li>
<li><strong>ステップ実行</strong> - next, step, continueで細かい制御</li>
<li><strong>条件付きブレークポイント</strong> - 効率的な問題の特定</li>
</ul>
<h3 id="開発環境統合">開発環境統合</h3>
<ul>
<li><strong>Rails統合</strong> - pry-railsでRailsプロジェクトを快適にデバッグ</li>
<li><strong>テスト統合</strong> - RSpec, Minitestでのテスト駆動開発をサポート</li>
<li><strong>エディタ連携</strong> - ソースコード編集の効率化</li>
</ul>
<p>Pryを日常的に使うことで、バグの発見が早くなり、コードの理解が深まり、結果として開発速度と品質が向上します。まずは<code>binding.pry</code>から始めて、徐々に高度な機能を習得していきましょう。</p>
<h2 id="参考リンク">参考リンク</h2>
<ul>
<li><a href="https://github.com/pry/pry">Pry GitHub Repository</a></li>
<li><a href="https://github.com/deivid-rodriguez/pry-byebug">pry-byebug GitHub</a></li>
<li><a href="https://github.com/pry/pry-rails">pry-rails GitHub</a></li>
<li><a href="https://github.com/pry/pry/wiki">Pry Wiki</a></li>
</ul></article><nav class="mt-8 pt-4 border-t border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-aa7deb192a774533.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[87555,[],\"\"]\n3:I[31295,[],\"\"]\n5:I[59665,[],\"MetadataBoundary\"]\n7:I[59665,[],\"OutletBoundary\"]\na:I[74911,[],\"AsyncMetadataOutlet\"]\nc:I[59665,[],\"ViewportBoundary\"]\ne:I[26614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"KZrMisSdXyu7FDjuS9HOy\",\"p\":\"\",\"c\":[\"\",\"blog\",\"ruby-pry-debugging-guide\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"ruby-pry-debugging-guide\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"type\":\"image/png\"}]}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"ruby-pry-debugging-guide\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[\"$\",\"$L5\",null,{\"children\":\"$L6\"}],null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"QNiFFWZeo6Ce2wKQ7ZR2x\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:\"$Sreact.suspense\"\n10:I[74911,[],\"AsyncMetadata\"]\n6:[\"$\",\"$f\",null,{\"fallback\":null,\"children\":[\"$\",\"$L10\",null,{\"promise\":\"$@11\"}]}]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script><script>self.__next_f.push([1,"12:I[6874,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"\"]\n14:I[31203,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n15:I[4197,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n13:T46a8,"])</script><script>self.__next_f.push([1,"\u003ch1 id=\"ruby-pry完全ガイドデバッグからreplまで開発効率を劇的に向上させる使い方\"\u003eRuby Pry完全ガイド！デバッグからREPLまで開発効率を劇的に向上させる使い方\u003c/h1\u003e\n\u003cp\u003eRuby開発において、\u003cstrong\u003ePry\u003c/strong\u003eは標準のirbを大幅に拡張した強力なREPL（Read-Eval-Print Loop）ツールです。シンタックスハイライト、高度なデバッグ機能、ソースコードの閲覧など、開発効率を飛躍的に向上させる機能が満載です。この記事では、Pryの基本から応用まで、実用的な使い方を詳しく解説します。\u003c/p\u003e\n\u003ch2 id=\"pryとは\"\u003ePryとは\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003ePry\u003c/strong\u003eは、Rubyの標準REPLである\u003ccode\u003eirb\u003c/code\u003eを置き換える、より高機能な対話型Ruby実行環境です。2010年にJohn Mairによって開発され、現在では多くのRuby開発者に愛用されています。\u003c/p\u003e\n\u003ch3 id=\"irbとpryの違い\"\u003eirbとPryの違い\u003c/h3\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003e機能\u003c/th\u003e\u003cth\u003eirb\u003c/th\u003e\u003cth\u003ePry\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003eシンタックスハイライト\u003c/td\u003e\u003ctd\u003e✗\u003c/td\u003e\u003ctd\u003e✓\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eソースコード表示\u003c/td\u003e\u003ctd\u003e✗\u003c/td\u003e\u003ctd\u003e✓\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e高度なデバッグ\u003c/td\u003e\u003ctd\u003e✗\u003c/td\u003e\u003ctd\u003e✓\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e履歴管理\u003c/td\u003e\u003ctd\u003e基本的\u003c/td\u003e\u003ctd\u003e高度\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eプラグインシステム\u003c/td\u003e\u003ctd\u003e✗\u003c/td\u003e\u003ctd\u003e✓\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eオブジェクトイントロスペクション\u003c/td\u003e\u003ctd\u003e基本的\u003c/td\u003e\u003ctd\u003e高度\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2 id=\"インストールと基本設定\"\u003eインストールと基本設定\u003c/h2\u003e\n\u003ch3 id=\"インストール方法\"\u003eインストール方法\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eGemfileに追加（Rails等）:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Gemfile\ngroup :development, :test do\n  gem 'pry'\n  gem 'pry-rails'      # Rails統合\n  gem 'pry-byebug'     # デバッガ統合\n  gem 'pry-doc'        # ドキュメント表示\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e単体インストール:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003egem install pry pry-byebug pry-doc\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"基本的な設定\"\u003e基本的な設定\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e~/.pryrcファイルの作成:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# ~/.pryrc\nPry.config.editor = 'code'  # Visual Studio Code\n# Pry.config.editor = 'vim'  # Vim\n\n# プロンプトのカスタマイズ\nPry.config.prompt = Pry::Prompt.new(\n  'custom',\n  'カスタムプロンプト',\n  [\n    proc { |context, nest_level, pry_instance| \"[#{context}]\u003e \" },\n    proc { |context, nest_level, pry_instance| \"[#{context}]* \" }\n  ]\n)\n\n# エイリアスの設定\nPry.commands.alias_command 'c', 'continue'\nPry.commands.alias_command 's', 'step'\nPry.commands.alias_command 'n', 'next'\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"基本的な使い方\"\u003e基本的な使い方\u003c/h2\u003e\n\u003ch3 id=\"1-replとしての基本操作\"\u003e1. REPLとしての基本操作\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Pryの起動\npry\n\n# または、スクリプト内で\nbinding.pry\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# 基本的な計算とオブジェクト操作\n[1] pry(main)\u003e 2 + 3\n=\u003e 5\n\n[2] pry(main)\u003e \"Hello World\".class\n=\u003e String\n\n[3] pry(main)\u003e [1, 2, 3].map(\u0026#x26;:to_s)\n=\u003e [\"1\", \"2\", \"3\"]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-オブジェクトのイントロスペクション\"\u003e2. オブジェクトのイントロスペクション\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# オブジェクトの詳細情報を表示\n[1] pry(main)\u003e ls String\nString.methods:\n  try_convert\nString#methods:\n  ascii_only?  bytes       each_line    inspect      reverse!    \n  bytesize     capitalize  empty?       length       rstrip      \n  # ... (省略)\n\n# メソッドのソースコードを表示\n[2] pry(main)\u003e show-source String#reverse\n\nFrom: string.c (C Method):\nOwner: String\nVisibility: public\nNumber of lines: 1\n\nReturns a new string with the characters from str in reverse order.\n\n   \"stressed\".reverse   #=\u003e \"desserts\"\n\n# メソッドのドキュメントを表示\n[3] pry(main)\u003e show-doc String#reverse\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-クラスモジュール内への移動\"\u003e3. クラス・モジュール内への移動\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# クラス内に「cd」で移動\n[1] pry(main)\u003e cd String\n[2] pry(String):1\u003e ls\nString.methods: try_convert\nString#methods: ascii_only? bytes capitalize ...\n\n# 戻る\n[3] pry(String):1\u003e cd ..\n[4] pry(main)\u003e \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"デバッグ機能\"\u003eデバッグ機能\u003c/h2\u003e\n\u003ch3 id=\"1-bindingpryを使ったブレークポイント\"\u003e1. binding.pryを使ったブレークポイント\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e基本的な使い方:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# debug_example.rb\nclass Calculator\n  def add(a, b)\n    binding.pry  # ← ここで実行が止まる\n    result = a + b\n    binding.pry  # ← 結果を確認したい場合\n    result\n  end\nend\n\ncalc = Calculator.new\nputs calc.add(5, 3)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e実行結果:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ ruby debug_example.rb\n\nFrom: debug_example.rb @ line 3 Calculator#add:\n\n    2: def add(a, b)\n =\u003e 3:   binding.pry\n    4:   result = a + b\n    5:   binding.pry\n    6:   result\n\n[1] pry(#\u0026#x3C;Calculator\u003e)\u003e a\n=\u003e 5\n[2] pry(#\u0026#x3C;Calculator\u003e)\u003e b  \n=\u003e 3\n[3] pry(#\u0026#x3C;Calculator\u003e)\u003e continue\n\nFrom: debug_example.rb @ line 5 Calculator#add:\n\n    2: def add(a, b)\n    3:   binding.pry\n    4:   result = a + b\n =\u003e 5:   binding.pry\n    6:   result\n\n[4] pry(#\u0026#x3C;Calculator\u003e)\u003e result\n=\u003e 8\n[5] pry(#\u0026#x3C;Calculator\u003e)\u003e continue\n8\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-pry-byebugを使った高度なデバッグ\"\u003e2. pry-byebugを使った高度なデバッグ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# advanced_debug.rb\nrequire 'pry-byebug'\n\nclass UserService\n  def initialize(users)\n    @users = users\n  end\n\n  def find_adult_users\n    binding.pry\n    adult_users = []\n    @users.each do |user|\n      if user[:age] \u003e= 18\n        adult_users \u0026#x3C;\u0026#x3C; user\n      end\n    end\n    adult_users\n  end\nend\n\nusers = [\n  { name: \"Alice\", age: 25 },\n  { name: \"Bob\", age: 17 },\n  { name: \"Charlie\", age: 30 }\n]\n\nservice = UserService.new(users)\nresult = service.find_adult_users\nputs result\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eデバッグセッションの例:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ ruby advanced_debug.rb\n\nFrom: advanced_debug.rb @ line 8 UserService#find_adult_users:\n\n     7: def find_adult_users\n  =\u003e 8:   binding.pry\n     9:   adult_users = []\n    10:   @users.each do |user|\n    11:     if user[:age] \u003e= 18\n    12:       adult_users \u0026#x3C;\u0026#x3C; user\n    13:     end\n    14:   end\n\n[1] pry(#\u0026#x3C;UserService\u003e)\u003e next  # 次の行に進む\n\nFrom: advanced_debug.rb @ line 9 UserService#find_adult_users:\n\n     7: def find_adult_users\n     8:   binding.pry\n  =\u003e 9:   adult_users = []\n    10:   @users.each do |user|\n\n[2] pry(#\u0026#x3C;UserService\u003e)\u003e step  # メソッド内に入る\n\nFrom: advanced_debug.rb @ line 10 UserService#find_adult_users:\n\n     8:   binding.pry\n     9:   adult_users = []\n  =\u003e 10:   @users.each do |user|\n    11:     if user[:age] \u003e= 18\n\n[3] pry(#\u0026#x3C;UserService\u003e)\u003e @users  # インスタンス変数を確認\n=\u003e [{:name=\u003e\"Alice\", :age=\u003e25}, {:name=\u003e\"Bob\", :age=\u003e17}, {:name=\u003e\"Charlie\", :age=\u003e30}]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-条件付きブレークポイント\"\u003e3. 条件付きブレークポイント\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003eclass DataProcessor\n  def process_items(items)\n    items.each_with_index do |item, index|\n      # 特定の条件でのみ止まる\n      binding.pry if item[:status] == 'error'\n      \n      # または、特定のインデックスで止まる  \n      binding.pry if index == 10\n      \n      process_item(item)\n    end\n  end\n\n  private\n\n  def process_item(item)\n    # アイテムの処理\n    puts \"Processing: #{item[:name]}\"\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"rails環境での活用\"\u003eRails環境での活用\u003c/h2\u003e\n\u003ch3 id=\"1-pry-railsの利用\"\u003e1. pry-railsの利用\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Gemfile\ngem 'pry-rails', group: [:development, :test]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003erails consoleでPryを使用:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ rails console\nLoading development environment (Rails 7.0.0)\n[1] pry(main)\u003e User.first\n  User Load (0.3ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT 1\n=\u003e #\u0026#x3C;User id: 1, name: \"John\", email: \"john@example.com\"...\u003e\n\n[2] pry(main)\u003e cd User\n[3] pry(User):1\u003e ls\nUser.methods:\n  all  create  find  find_by  where...\nUser#methods:  \n  email  name  save  update...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-コントローラーでのデバッグ\"\u003e2. コントローラーでのデバッグ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003eclass UsersController \u0026#x3C; ApplicationController\n  def show\n    @user = User.find(params[:id])\n    binding.pry  # リクエスト時にここで止まる\n    render :show\n  end\n\n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      redirect_to @user\n    else\n      binding.pry  # バリデーションエラー時の状態を確認\n      render :new\n    end\n  end\n\n  private\n\n  def user_params\n    params.require(:user).permit(:name, :email)\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-モデルでのデバッグ\"\u003e3. モデルでのデバッグ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003eclass User \u0026#x3C; ApplicationRecord\n  before_save :normalize_email\n  \n  validates :email, presence: true, uniqueness: true\n\n  private\n\n  def normalize_email\n    binding.pry  # メールの正規化処理をデバッグ\n    self.email = email.downcase.strip if email.present?\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"高度な機能\"\u003e高度な機能\u003c/h2\u003e\n\u003ch3 id=\"1-ヒストリー機能\"\u003e1. ヒストリー機能\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# ヒストリーの確認\n[1] pry(main)\u003e hist\n1: 2 + 3\n2: \"Hello\".upcase  \n3: [1,2,3].sum\n\n# 特定の履歴を再実行\n[2] pry(main)\u003e hist -r 2  # 2番目のコマンドを再実行\n=\u003e \"HELLO\"\n\n# 履歴を保存\n[3] pry(main)\u003e save-file /tmp/pry_session.rb 1..3\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-シェルコマンドの実行\"\u003e2. シェルコマンドの実行\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# シェルコマンドを実行\n[1] pry(main)\u003e .ls -la\ntotal 16\ndrwxr-xr-x   4 user  staff   128  1 10 10:30 .\ndrwxr-xr-x  20 user  staff   640  1 10 10:29 ..\n\n# 結果をRuby変数に取得\n[2] pry(main)\u003e result = `ls -la`.split(\"\\n\")\n=\u003e [\"total 16\", \"drwxr-xr-x   4 user  staff   128  1 10 10:30 .\", ...]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-ソースコード編集\"\u003e3. ソースコード編集\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# メソッドのソースを編集（エディタで開く）\n[1] pry(main)\u003e edit User#full_name\n\n# ファイルを開く\n[2] pry(main)\u003e edit app/models/user.rb\n\n# 新しいファイルを作成\n[3] pry(main)\u003e edit -t temp  # 一時ファイルを作成\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"4-カスタムコマンドの作成\"\u003e4. カスタムコマンドの作成\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# ~/.pryrc\nPry::Commands.create_command \"greet\" do\n  description \"挨拶をする\"\n  \n  def options(opt)\n    opt.on :n, :name=, \"名前を指定\", argument: true\n  end\n  \n  def process\n    name = opts[:name] || \"World\"\n    output.puts \"Hello, #{name}!\"\n  end\nend\n\n# 使用例\n[1] pry(main)\u003e greet\nHello, World!\n[2] pry(main)\u003e greet -n Alice\nHello, Alice!\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"テスト環境での活用\"\u003eテスト環境での活用\u003c/h2\u003e\n\u003ch3 id=\"1-rspecとの組み合わせ\"\u003e1. RSpecとの組み合わせ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe '#full_name' do\n    it '姓名を結合して返すこと' do\n      user = User.new(first_name: \"太郎\", last_name: \"田中\")\n      binding.pry  # テスト実行時にここで止まる\n      expect(user.full_name).to eq \"田中 太郎\"\n    end\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e実行:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ bundle exec rspec spec/models/user_spec.rb\n\nFrom: spec/models/user_spec.rb @ line 5:\n\n     3: it '姓名を結合して返すこと' do\n     4:   user = User.new(first_name: \"太郎\", last_name: \"田中\")\n  =\u003e 5:   binding.pry\n     6:   expect(user.full_name).to eq \"田中 太郎\"\n\n[1] pry(#\u0026#x3C;RSpec::ExampleGroups::User::FullName\u003e)\u003e user\n=\u003e #\u0026#x3C;User first_name: \"太郎\", last_name: \"田中\"\u003e\n[2] pry(#\u0026#x3C;RSpec::ExampleGroups::User::FullName\u003e)\u003e user.full_name\n=\u003e \"田中 太郎\"\n[3] pry(#\u0026#x3C;RSpec::ExampleGroups::User::FullName\u003e)\u003e continue\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-minitestとの組み合わせ\"\u003e2. Minitestとの組み合わせ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest \u0026#x3C; ActiveSupport::TestCase\n  test \"should create user with valid attributes\" do\n    user = User.new(name: \"Test User\", email: \"test@example.com\")\n    binding.pry  # テスト中の状態を確認\n    assert user.save\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"パフォーマンス分析\"\u003eパフォーマンス分析\u003c/h2\u003e\n\u003ch3 id=\"1-ベンチマーク測定\"\u003e1. ベンチマーク測定\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003erequire 'benchmark'\n\n# Pry内でベンチマーク実行\n[1] pry(main)\u003e benchmark do\n[1] pry(main)*   1000.times { \"hello\".upcase }\n[1] pry(main)* end\n       user     system      total        real\n   0.000123   0.000002   0.000125 (  0.000124)\n\n# メソッドの実行時間測定\n[2] pry(main)\u003e time_taken = Benchmark.realtime { User.all.to_a }\n=\u003e 0.023456789\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-メモリ使用量の確認\"\u003e2. メモリ使用量の確認\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# メモリ使用量チェック用のヘルパー\ndef memory_usage\n  `ps -o pid,rss -p #{Process.pid}`.strip.split(\"\\n\")[1].split[1].to_i\nend\n\n[1] pry(main)\u003e before = memory_usage\n=\u003e 45678\n\n[2] pry(main)\u003e large_array = (1..1000000).to_a\n=\u003e [1, 2, 3, ..., 1000000]\n\n[3] pry(main)\u003e after = memory_usage  \n=\u003e 67890\n\n[4] pry(main)\u003e puts \"Memory increased: #{after - before} KB\"\nMemory increased: 22212 KB\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"トラブルシューティング\"\u003eトラブルシューティング\u003c/h2\u003e\n\u003ch3 id=\"1-よくある問題と解決法\"\u003e1. よくある問題と解決法\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003ePryが起動しない:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Gemの確認\ngem list | grep pry\n\n# 再インストール\ngem uninstall pry\ngem install pry\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eRails環境でPryが動かない:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Gemfileに正しく記述されているか確認\ngroup :development, :test do\n  gem 'pry-rails'\nend\n\n# bundle installを実行\nbundle install\n\n# Spring使用時はリスタート\nbundle exec spring stop\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-デバッグセッションからの脱出方法\"\u003e2. デバッグセッションからの脱出方法\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# 現在のPryセッションから抜ける\n[1] pry(main)\u003e exit\n\n# 全てのPryセッションから抜ける（例外を発生）\n[2] pry(main)\u003e exit-all\n\n# プログラムの実行を継続\n[3] pry(main)\u003e continue\n\n# 一つ上のスコープに戻る\n[4] pry(main)\u003e cd ..\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"便利なtipsとトリック\"\u003e便利なTipsとトリック\u003c/h2\u003e\n\u003ch3 id=\"1-よく使うエイリアス\"\u003e1. よく使うエイリアス\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# ~/.pryrc\nPry.commands.alias_command 'c', 'continue'\nPry.commands.alias_command 'n', 'next' \nPry.commands.alias_command 's', 'step'\nPry.commands.alias_command 'ss', 'show-source'\nPry.commands.alias_command 'sd', 'show-doc'\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-カラーテーマのカスタマイズ\"\u003e2. カラーテーマのカスタマイズ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# ~/.pryrc\nPry.config.color = true\nPry.config.theme = \"monokai\"\n\n# カスタムテーマ\nPry.config.theme = {\n  \"keyword\" =\u003e [:blue],\n  \"method\" =\u003e [:yellow], \n  \"string\" =\u003e [:green],\n  \"symbol\" =\u003e [:red]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-プロジェクト固有の設定\"\u003e3. プロジェクト固有の設定\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# プロジェクトルートに .pryrc\nif defined?(Rails)\n  # Rails固有のヘルパーメソッド\n  def u(id = nil)\n    if id\n      User.find(id)\n    else  \n      User.first\n    end\n  end\n  \n  def reload!\n    Rails.application.reloader.reload!\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"まとめ\"\u003eまとめ\u003c/h2\u003e\n\u003cp\u003ePryは単なるデバッグツールではなく、Ruby開発の生産性を大幅に向上させる多機能なREPL環境です。重要なポイント：\u003c/p\u003e\n\u003ch3 id=\"基本機能\"\u003e基本機能\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eシンタックスハイライト\u003c/strong\u003e - コードが見やすく、入力ミスを減らす\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eオブジェクトイントロスペクション\u003c/strong\u003e - \u003ccode\u003els\u003c/code\u003e, \u003ccode\u003eshow-source\u003c/code\u003eでコードを深く理解\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e高度なヒストリー\u003c/strong\u003e - 過去のセッションを効果的に活用\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"デバッグ機能-1\"\u003eデバッグ機能\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ebinding.pry\u003c/strong\u003e - 任意の箇所で実行を停止してデバッグ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eステップ実行\u003c/strong\u003e - next, step, continueで細かい制御\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e条件付きブレークポイント\u003c/strong\u003e - 効率的な問題の特定\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"開発環境統合\"\u003e開発環境統合\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eRails統合\u003c/strong\u003e - pry-railsでRailsプロジェクトを快適にデバッグ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eテスト統合\u003c/strong\u003e - RSpec, Minitestでのテスト駆動開発をサポート\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eエディタ連携\u003c/strong\u003e - ソースコード編集の効率化\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ePryを日常的に使うことで、バグの発見が早くなり、コードの理解が深まり、結果として開発速度と品質が向上します。まずは\u003ccode\u003ebinding.pry\u003c/code\u003eから始めて、徐々に高度な機能を習得していきましょう。\u003c/p\u003e\n\u003ch2 id=\"参考リンク\"\u003e参考リンク\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/pry/pry\"\u003ePry GitHub Repository\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/deivid-rodriguez/pry-byebug\"\u003epry-byebug GitHub\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/pry/pry-rails\"\u003epry-rails GitHub\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/pry/pry/wiki\"\u003ePry Wiki\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold mb-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-green-600\",\"children\":[\"#\",49]}],\" \",\"Ruby Pry完全ガイド！デバッグからREPLまで開発効率を劇的に向上させる使い方\"]}],[\"$\",\"ul\",null,{\"className\":\"list-none border-b border-gray-600 pb-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":[\"作成日時: \",\"2025-09-10 20:27\"]}],[\"$\",\"li\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":[\"更新日時: \",\"2025-09-10 20:27\"]}],[\"$\",\"li\",null,{\"className\":\"flex flex-wrap gap-2 mt-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Ruby\"}],[\"$\",\"span\",\"1\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Pry\"}],[\"$\",\"span\",\"2\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Debugging\"}],[\"$\",\"span\",\"3\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"REPL\"}],[\"$\",\"span\",\"4\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Development\"}]]}]]}],[\"$\",\"nav\",null,{\"className\":\"mb-6 pb-4 border-b border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose dark:prose-invert\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}],[\"$\",\"$L14\",null,{}],[\"$\",\"nav\",null,{\"className\":\"mt-8 pt-4 border-t border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"$L15\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"11:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Maita Tomoya Dev IO\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"米田智哉の技術ブログ。キャッチアップしたことをメモします。\"}]],\"error\":null,\"digest\":\"$undefined\"}\nb:{\"metadata\":\"$11:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>