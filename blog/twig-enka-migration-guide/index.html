<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/19bdf9af4d1ae4d4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-aa7deb192a774533.js"/><script src="/_next/static/chunks/4bd1b696-bc089769d60af88b.js" async=""></script><script src="/_next/static/chunks/1684-b369840b16e4c44b.js" async=""></script><script src="/_next/static/chunks/main-app-2ed07751e45c2a2f.js" async=""></script><script src="/_next/static/chunks/6874-6c1ddde525f3893c.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" href="/favicon.png" type="image/png"/><title>Maita Tomoya Dev IO</title><meta name="description" content="米田智哉の技術ブログ。キャッチアップしたことをメモします。"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="max-w-2xl mx-auto py-10 px-4"><h1 class="text-3xl font-bold mb-2"><span class="text-green-600">#<!-- -->39</span> <!-- -->Twigテンプレートエンジンとenka移行ツール完全ガイド - &lt;twig migrate&gt;エラーの解決から実装まで</h1><ul class="list-none border-b border-gray-600 pb-4 mb-6"><li class="text-gray-500 text-sm">作成日時: <!-- -->2025-08-20 01:48</li><li class="text-gray-500 text-sm">更新日時: <!-- -->2025-08-20 01:48</li><li class="flex flex-wrap gap-2 mt-2"><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Twig</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">enka</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">PHP</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">テンプレートエンジン</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">移行ツール</span><span class="px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs">Symfony</span></li></ul><nav class="mb-6 pb-4 border-b border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav><article class="prose dark:prose-invert"><p>PHPプロジェクトでTwigテンプレートを使用していて、「<code>&#x3C;twig migrate></code>がないとenka的にだめだよ」というエラーに遭遇したことはありませんか？今回は、Twigテンプレートエンジンの基礎から、enka移行ツールの概念、そして実際の移行作業まで、初心者にも分かりやすく解説します。</p>
<h2 id="-初心者向け解説">💡 初心者向け解説</h2>
<h3 id="そもそもテンプレートエンジンとは">そもそもテンプレートエンジンとは？</h3>
<p><strong>簡単に言うと</strong>: HTMLの中にプログラムの変数を埋め込んで、動的なWebページを作るツールです。</p>
<pre><code>例：レストランのメニュー表
静的HTML：毎日同じメニュー（印刷済み）
テンプレートエンジン：日替わりメニュー（テンプレートに今日の料理を差し込む）
</code></pre>
<h2 id="-目次">📚 目次</h2>
<ul>
<li><a href="#twig%E3%81%A8%E3%81%AF%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B">Twigとは？基礎から理解する</a></li>
<li><a href="#enka%E3%81%A8%E3%81%AF%E7%A7%BB%E8%A1%8C%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE%E5%BD%B9%E5%89%B2">enkaとは？移行ツールの役割</a></li>
<li><a href="#twig-migrate%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%AE%E5%8E%9F%E5%9B%A0%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95"><twig migrate="">エラーの原因と対処法</twig></a></li>
<li><a href="#twig%E5%AE%9F%E8%A3%85%E3%81%AE%E5%9F%BA%E6%9C%AC">Twig実装の基本</a></li>
<li><a href="#enka%E7%A7%BB%E8%A1%8C%E3%81%AE%E5%AE%9F%E8%B7%B5">enka移行の実践</a></li>
<li><a href="#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0">トラブルシューティング</a></li>
<li><a href="#%E3%83%99%E3%82%B9%E3%83%88%E3%83%97%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%82%B9">ベストプラクティス</a></li>
</ul>
<h2 id="twigとは基礎から理解する">Twigとは？基礎から理解する</h2>
<h3 id="-twigの概要">🌿 Twigの概要</h3>
<p><strong>Twig</strong>は、PHPで最も人気のあるテンプレートエンジンの一つで、Symfonyフレームワークの標準テンプレートエンジンとして採用されています。</p>
<h3 id="なぜtwigを使うのか">なぜTwigを使うのか？</h3>
<h4 id="1-セキュリティ">1. <strong>セキュリティ</strong></h4>
<pre><code class="language-php">// ❌ 危険：生のPHP
&#x3C;?php echo $_GET['name']; ?>  // XSS脆弱性の危険！

// ✅ 安全：Twig
{{ name }}  // 自動的にエスケープされる
</code></pre>
<h4 id="2-可読性">2. <strong>可読性</strong></h4>
<pre><code class="language-twig">{# Twigテンプレートの例 #}
&#x3C;!DOCTYPE html>
&#x3C;html>
&#x3C;head>
    &#x3C;title>{{ page_title }}&#x3C;/title>
&#x3C;/head>
&#x3C;body>
    &#x3C;h1>ようこそ、{{ user.name }}さん！&#x3C;/h1>
    
    {% if user.is_premium %}
        &#x3C;div class="premium-content">
            プレミアム会員限定コンテンツ
        &#x3C;/div>
    {% endif %}
    
    &#x3C;ul>
    {% for item in items %}
        &#x3C;li>{{ item.title }} - {{ item.price|number_format }} 円&#x3C;/li>
    {% endfor %}
    &#x3C;/ul>
&#x3C;/body>
&#x3C;/html>
</code></pre>
<h4 id="3-テンプレート継承">3. <strong>テンプレート継承</strong></h4>
<pre><code class="language-twig">{# base.html.twig - 親テンプレート #}
&#x3C;!DOCTYPE html>
&#x3C;html>
&#x3C;head>
    &#x3C;title>{% block title %}デフォルトタイトル{% endblock %}&#x3C;/title>
&#x3C;/head>
&#x3C;body>
    &#x3C;header>共通ヘッダー&#x3C;/header>
    
    {% block content %}
        {# 子テンプレートでこの部分を上書き #}
    {% endblock %}
    
    &#x3C;footer>共通フッター&#x3C;/footer>
&#x3C;/body>
&#x3C;/html>
</code></pre>
<pre><code class="language-twig">{# page.html.twig - 子テンプレート #}
{% extends 'base.html.twig' %}

{% block title %}商品一覧{% endblock %}

{% block content %}
    &#x3C;h1>商品リスト&#x3C;/h1>
    {# ページ固有のコンテンツ #}
{% endblock %}
</code></pre>
<h3 id="twigの基本構文">Twigの基本構文</h3>






























<table><thead><tr><th>構文</th><th>用途</th><th>例</th></tr></thead><tbody><tr><td><code>{{ ... }}</code></td><td>変数や式の出力</td><td><code>{{ user.name }}</code></td></tr><tr><td><code>{% ... %}</code></td><td>制御構造（if、for等）</td><td><code>{% if condition %}</code></td></tr><tr><td><code>{# ... #}</code></td><td>コメント</td><td><code>{# これはコメント #}</code></td></tr><tr><td><code>|</code></td><td>フィルター</td><td><code>{{ price|number_format }}</code></td></tr></tbody></table>
<h2 id="enkaとは移行ツールの役割">enkaとは？移行ツールの役割</h2>
<h3 id="-enkaの概念">🔄 enkaの概念</h3>
<p>**enka（エンカ）**は、テンプレートエンジンの移行や変換を支援するツール・ライブラリの総称です。特にTwigにおいては、以下のような場面で使用されます：</p>
<ol>
<li>
<p><strong>バージョン移行</strong></p>
<ul>
<li>Twig 1.x → 2.x → 3.x への移行</li>
<li>非推奨機能の自動変換</li>
</ul>
</li>
<li>
<p><strong>他のテンプレートエンジンからの移行</strong></p>
<ul>
<li>Smarty → Twig</li>
<li>Blade → Twig</li>
<li>生のPHP → Twig</li>
</ul>
</li>
<li>
<p><strong>構文の自動変換</strong></p>
<ul>
<li>古い構文から新しい構文への変換</li>
<li>カスタムタグの標準化</li>
</ul>
</li>
</ol>
<h3 id="enkaが必要な理由">enkaが必要な理由</h3>
<pre><code class="language-php">// 例：古いPHPテンプレート
&#x3C;?php foreach($products as $product): ?>
    &#x3C;div class="product">
        &#x3C;h2>&#x3C;?php echo htmlspecialchars($product['name']); ?>&#x3C;/h2>
        &#x3C;p>価格: &#x3C;?php echo number_format($product['price']); ?>円&#x3C;/p>
        &#x3C;?php if($product['is_sale']): ?>
            &#x3C;span class="sale">セール中！&#x3C;/span>
        &#x3C;?php endif; ?>
    &#x3C;/div>
&#x3C;?php endforeach; ?>

// ↓ enkaで自動変換

// 新しいTwigテンプレート
{% for product in products %}
    &#x3C;div class="product">
        &#x3C;h2>{{ product.name }}&#x3C;/h2>
        &#x3C;p>価格: {{ product.price|number_format }}円&#x3C;/p>
        {% if product.is_sale %}
            &#x3C;span class="sale">セール中！&#x3C;/span>
        {% endif %}
    &#x3C;/div>
{% endfor %}
</code></pre>
<h2 id="エラーの原因と対処法"><twig migrate="">エラーの原因と対処法</twig></h2>
<h3 id="エラーメッセージの意味">エラーメッセージの意味</h3>
<p>「<code>&#x3C;twig migrate></code>がないとenka的にだめだよ」というエラーは、通常以下の状況で発生します：</p>
<ol>
<li><strong>移行設定ファイルの不足</strong></li>
<li><strong>enkaライブラリの未インストール</strong></li>
<li><strong>Twigバージョンの不整合</strong></li>
</ol>
<h3 id="解決方法">解決方法</h3>
<h4 id="ステップ1-必要なパッケージのインストール">ステップ1: 必要なパッケージのインストール</h4>
<pre><code class="language-bash"># Composerでenka移行ツールをインストール
composer require enka/twig-migration-bundle --dev

# Twig本体の最新版をインストール
composer require twig/twig:^3.0
</code></pre>
<h4 id="ステップ2-移行設定ファイルの作成">ステップ2: 移行設定ファイルの作成</h4>
<pre><code class="language-xml">&#x3C;!-- twig-migrate.xml -->
&#x3C;?xml version="1.0" encoding="UTF-8"?>
&#x3C;twig-migrate>
    &#x3C;source>
        &#x3C;directory>templates/old&#x3C;/directory>
        &#x3C;pattern>*.html.php&#x3C;/pattern>
    &#x3C;/source>
    
    &#x3C;target>
        &#x3C;directory>templates/new&#x3C;/directory>
        &#x3C;extension>.html.twig&#x3C;/extension>
    &#x3C;/target>
    
    &#x3C;rules>
        &#x3C;rule type="php-echo" convert="twig-output"/>
        &#x3C;rule type="php-if" convert="twig-condition"/>
        &#x3C;rule type="php-foreach" convert="twig-loop"/>
    &#x3C;/rules>
    
    &#x3C;options>
        &#x3C;auto-escape>true&#x3C;/auto-escape>
        &#x3C;strict-variables>false&#x3C;/strict-variables>
    &#x3C;/options>
&#x3C;/twig-migrate>
</code></pre>
<h4 id="ステップ3-移行コマンドの実行">ステップ3: 移行コマンドの実行</h4>
<pre><code class="language-bash"># enka移行ツールを実行
php vendor/bin/enka migrate:twig --config=twig-migrate.xml

# または、Symfonyコンソールを使用
php bin/console enka:migrate:twig
</code></pre>
<h2 id="twig実装の基本">Twig実装の基本</h2>
<h3 id="基本的なセットアップ">基本的なセットアップ</h3>
<pre><code class="language-php">// index.php
require_once 'vendor/autoload.php';

use Twig\Environment;
use Twig\Loader\FilesystemLoader;

// テンプレートディレクトリの設定
$loader = new FilesystemLoader('templates');

// Twig環境の初期化
$twig = new Environment($loader, [
    'cache' => 'cache/twig',  // キャッシュディレクトリ
    'debug' => true,           // デバッグモード
    'auto_reload' => true      // テンプレートの自動リロード
]);

// データの準備
$data = [
    'title' => '商品一覧',
    'products' => [
        ['name' => 'ノートPC', 'price' => 98000, 'is_sale' => true],
        ['name' => 'マウス', 'price' => 2980, 'is_sale' => false],
        ['name' => 'キーボード', 'price' => 12800, 'is_sale' => true]
    ],
    'user' => [
        'name' => '田中太郎',
        'is_premium' => true
    ]
];

// テンプレートのレンダリング
echo $twig->render('products.html.twig', $data);
</code></pre>
<h3 id="カスタムフィルターの作成">カスタムフィルターの作成</h3>
<pre><code class="language-php">// カスタムフィルターの定義
$filter = new \Twig\TwigFilter('price_format', function ($price) {
    return '¥' . number_format($price);
});

// Twigに登録
$twig->addFilter($filter);
</code></pre>
<pre><code class="language-twig">{# テンプレートでの使用 #}
{{ product.price|price_format }}  {# 出力: ¥98,000 #}
</code></pre>
<h2 id="enka移行の実践">enka移行の実践</h2>
<h3 id="実践的な移行例">実践的な移行例</h3>
<h4 id="1-プロジェクト構造の準備">1. プロジェクト構造の準備</h4>
<pre><code>project/
├── composer.json
├── twig-migrate.xml
├── src/
│   └── Migration/
│       └── TwigMigrator.php
├── templates/
│   ├── old/          # 移行元（古いテンプレート）
│   │   ├── header.php
│   │   ├── footer.php
│   │   └── products.php
│   └── new/          # 移行先（Twigテンプレート）
└── cache/
    └── twig/
</code></pre>
<h4 id="2-カスタム移行スクリプト">2. カスタム移行スクリプト</h4>
<pre><code class="language-php">// src/Migration/TwigMigrator.php
&#x3C;?php

namespace App\Migration;

class TwigMigrator
{
    private $sourceDir;
    private $targetDir;
    private $rules = [];
    
    public function __construct($sourceDir, $targetDir)
    {
        $this->sourceDir = $sourceDir;
        $this->targetDir = $targetDir;
        $this->initializeRules();
    }
    
    private function initializeRules()
    {
        // PHP echo文をTwig出力に変換
        $this->rules[] = [
            'pattern' => '/&#x3C;\?php\s+echo\s+(.+?);\s*\?>/',
            'replacement' => '{{ $1 }}'
        ];
        
        // htmlspecialcharsの変換
        $this->rules[] = [
            'pattern' => '/htmlspecialchars\((.+?)\)/',
            'replacement' => '$1'  // Twigは自動エスケープ
        ];
        
        // foreach文の変換
        $this->rules[] = [
            'pattern' => '/&#x3C;\?php\s+foreach\s*\((.+?)\s+as\s+(.+?)\):\s*\?>/',
            'replacement' => '{% for $2 in $1 %}'
        ];
        
        // endforeachの変換
        $this->rules[] = [
            'pattern' => '/&#x3C;\?php\s+endforeach;\s*\?>/',
            'replacement' => '{% endfor %}'
        ];
        
        // if文の変換
        $this->rules[] = [
            'pattern' => '/&#x3C;\?php\s+if\s*\((.+?)\):\s*\?>/',
            'replacement' => '{% if $1 %}'
        ];
        
        // endifの変換
        $this->rules[] = [
            'pattern' => '/&#x3C;\?php\s+endif;\s*\?>/',
            'replacement' => '{% endif %}'
        ];
    }
    
    public function migrate($filename)
    {
        $sourcePath = $this->sourceDir . '/' . $filename;
        $content = file_get_contents($sourcePath);
        
        // ルールを適用
        foreach ($this->rules as $rule) {
            $content = preg_replace(
                $rule['pattern'],
                $rule['replacement'],
                $content
            );
        }
        
        // 配列アクセスをオブジェクトアクセスに変換
        $content = preg_replace(
            '/\[\'(.+?)\'\]/',
            '.$1',
            $content
        );
        
        // ファイル拡張子を変更
        $newFilename = str_replace('.php', '.html.twig', $filename);
        $targetPath = $this->targetDir . '/' . $newFilename;
        
        // 変換結果を保存
        file_put_contents($targetPath, $content);
        
        return [
            'source' => $filename,
            'target' => $newFilename,
            'status' => 'success'
        ];
    }
    
    public function migrateAll()
    {
        $files = glob($this->sourceDir . '/*.php');
        $results = [];
        
        foreach ($files as $file) {
            $filename = basename($file);
            $results[] = $this->migrate($filename);
        }
        
        return $results;
    }
}

// 使用例
$migrator = new TwigMigrator('templates/old', 'templates/new');
$results = $migrator->migrateAll();

foreach ($results as $result) {
    echo sprintf(
        "✅ %s → %s: %s\n",
        $result['source'],
        $result['target'],
        $result['status']
    );
}
</code></pre>
<h2 id="トラブルシューティング">トラブルシューティング</h2>
<h3 id="よくある問題と解決策">よくある問題と解決策</h3>
<h4 id="1-キャッシュ関連のエラー">1. キャッシュ関連のエラー</h4>
<p><strong>問題</strong>: 「Unable to write in the cache directory」</p>
<p><strong>解決策</strong>:</p>
<pre><code class="language-bash"># キャッシュディレクトリの権限を設定
chmod -R 777 cache/twig

# または、キャッシュをクリア
rm -rf cache/twig/*
</code></pre>
<h4 id="2-変数が未定義エラー">2. 変数が未定義エラー</h4>
<p><strong>問題</strong>: 「Variable "xxx" does not exist」</p>
<p><strong>解決策</strong>:</p>
<pre><code class="language-twig">{# 変数の存在チェック #}
{% if product is defined %}
    {{ product.name }}
{% endif %}

{# デフォルト値の設定 #}
{{ product.name|default('商品名なし') }}
</code></pre>
<h4 id="3-フィルターが見つからない">3. フィルターが見つからない</h4>
<p><strong>問題</strong>: 「Unknown filter "xxx"」</p>
<p><strong>解決策</strong>:</p>
<pre><code class="language-php">// PHPでカスタムフィルターを登録
$twig->addFilter(new \Twig\TwigFilter('custom_filter', function($value) {
    return strtoupper($value);
}));
</code></pre>
<h4 id="4-テンプレートが見つからない">4. テンプレートが見つからない</h4>
<p><strong>問題</strong>: 「Unable to find template "xxx.html.twig"」</p>
<p><strong>解決策</strong>:</p>
<pre><code class="language-php">// 複数のテンプレートディレクトリを設定
$loader = new FilesystemLoader([
    'templates',
    'templates/partials',
    'templates/layouts'
]);
</code></pre>
<h2 id="ベストプラクティス">ベストプラクティス</h2>
<h3 id="1-ディレクトリ構造の整理">1. ディレクトリ構造の整理</h3>
<pre><code>templates/
├── layouts/          # レイアウトテンプレート
│   └── base.html.twig
├── partials/         # 部分テンプレート
│   ├── header.html.twig
│   └── footer.html.twig
├── pages/           # ページテンプレート
│   ├── home.html.twig
│   └── products/
│       ├── list.html.twig
│       └── detail.html.twig
└── macros/          # マクロ定義
    └── forms.html.twig
</code></pre>
<h3 id="2-マクロの活用">2. マクロの活用</h3>
<pre><code class="language-twig">{# macros/forms.html.twig #}
{% macro input(name, value, type = "text") %}
    &#x3C;input type="{{ type }}" name="{{ name }}" value="{{ value }}" class="form-control">
{% endmacro %}

{# 使用例 #}
{% import "macros/forms.html.twig" as forms %}
{{ forms.input('username', user.name) }}
</code></pre>
<h3 id="3-環境別設定">3. 環境別設定</h3>
<pre><code class="language-php">// 開発環境
$twig = new Environment($loader, [
    'debug' => true,
    'cache' => false,
    'strict_variables' => true
]);

// 本番環境
$twig = new Environment($loader, [
    'debug' => false,
    'cache' => 'cache/twig',
    'strict_variables' => false,
    'optimizations' => -1  // すべての最適化を有効化
]);
</code></pre>
<h3 id="4-セキュリティ対策">4. セキュリティ対策</h3>
<pre><code class="language-twig">{# 自動エスケープ（デフォルト） #}
{{ user_input }}

{# 生のHTML出力（信頼できる場合のみ） #}
{{ trusted_html|raw }}

{# URLエンコード #}
&#x3C;a href="?search={{ search_query|url_encode }}">検索&#x3C;/a>

{# JSONエンコード #}
&#x3C;script>
    var data = {{ data|json_encode|raw }};
&#x3C;/script>
</code></pre>
<h3 id="5-パフォーマンス最適化">5. パフォーマンス最適化</h3>
<pre><code class="language-php">// テンプレートのプリコンパイル
$twig->setCache('cache/twig');
$twig->setAutoReload(false);  // 本番環境では無効化

// 使用するテンプレートを事前にロード
$twig->load('products/list.html.twig');
</code></pre>
<h2 id="symfonyでの実装例">Symfonyでの実装例</h2>
<h3 id="symfony環境での設定">Symfony環境での設定</h3>
<pre><code class="language-yaml"># config/packages/twig.yaml
twig:
    default_path: '%kernel.project_dir%/templates'
    debug: '%kernel.debug%'
    strict_variables: '%kernel.debug%'
    form_themes:
        - 'bootstrap_4_layout.html.twig'
    globals:
        app_name: 'My Application'
        app_version: '1.0.0'
</code></pre>
<h3 id="controllerでの使用">Controllerでの使用</h3>
<pre><code class="language-php">// src/Controller/ProductController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Annotation\Route;

class ProductController extends AbstractController
{
    #[Route('/products', name: 'product_list')]
    public function list(): Response
    {
        $products = $this->getDoctrine()
            ->getRepository(Product::class)
            ->findAll();
        
        return $this->render('products/list.html.twig', [
            'products' => $products,
            'page_title' => '商品一覧'
        ]);
    }
}
</code></pre>
<h2 id="移行チェックリスト">移行チェックリスト</h2>
<p>移行作業を行う際の確認事項：</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> バックアップの作成</li>
<li class="task-list-item"><input type="checkbox" disabled> Composerパッケージのインストール</li>
<li class="task-list-item"><input type="checkbox" disabled> twig-migrate.xml設定ファイルの作成</li>
<li class="task-list-item"><input type="checkbox" disabled> テンプレートディレクトリの準備</li>
<li class="task-list-item"><input type="checkbox" disabled> キャッシュディレクトリの権限設定</li>
<li class="task-list-item"><input type="checkbox" disabled> カスタムフィルター・関数の移行</li>
<li class="task-list-item"><input type="checkbox" disabled> グローバル変数の設定</li>
<li class="task-list-item"><input type="checkbox" disabled> テンプレート継承構造の確認</li>
<li class="task-list-item"><input type="checkbox" disabled> 移行スクリプトの実行</li>
<li class="task-list-item"><input type="checkbox" disabled> 移行結果のテスト</li>
<li class="task-list-item"><input type="checkbox" disabled> パフォーマンステスト</li>
<li class="task-list-item"><input type="checkbox" disabled> 本番環境へのデプロイ</li>
</ul>
<h2 id="まとめ">まとめ</h2>
<p>Twigテンプレートエンジンとenka移行ツールについて、基礎から実践まで解説しました。</p>
<h3 id="-重要なポイント">🎯 重要なポイント</h3>
<ol>
<li>
<p><strong>Twigの利点</strong></p>
<ul>
<li>セキュリティ（自動エスケープ）</li>
<li>可読性の高い構文</li>
<li>強力なテンプレート継承</li>
</ul>
</li>
<li>
<p><strong>enkaの役割</strong></p>
<ul>
<li>既存テンプレートの自動変換</li>
<li>バージョン間の移行支援</li>
<li>構文の標準化</li>
</ul>
</li>
<li>
<p><strong>移行時の注意点</strong></p>
<ul>
<li>必ずバックアップを取る</li>
<li>段階的に移行する</li>
<li>テストを十分に行う</li>
</ul>
</li>
<li>
<p><strong>ベストプラクティス</strong></p>
<ul>
<li>ディレクトリ構造の整理</li>
<li>マクロの活用</li>
<li>環境別設定の使い分け</li>
</ul>
</li>
</ol>
<p><code>&#x3C;twig migrate></code>エラーが発生した場合は、まず設定ファイルの存在と、必要なパッケージのインストール状況を確認しましょう。適切な移行ツールを使用することで、効率的にTwigへの移行を完了できます。</p>
<h2 id="参考リンク">参考リンク</h2>
<ul>
<li><a href="https://twig.symfony.com/doc/3.x/">Twig公式ドキュメント</a></li>
<li><a href="https://symfony.com/doc/current/templates.html">Symfony Twigガイド</a></li>
<li><a href="https://twig.symfony.com/doc/3.x/templates.html">Twig for Template Designers</a></li>
<li><a href="https://twig.symfony.com/doc/3.x/api.html">Twig for Developers</a></li>
<li><a href="https://getcomposer.org/">Composer公式サイト</a></li>
</ul>
<hr>
<p><em>この記事は、PHPテンプレートエンジンの移行作業における実践的な知識と経験に基づいて作成されました。</em></p></article><nav class="mt-8 pt-4 border-t border-gray-700 flex justify-between"><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/">← ホームへ</a><a class="text-blue-400 hover:text-blue-300 hover:underline" href="/blog/">記事一覧へ →</a></nav></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-aa7deb192a774533.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[87555,[],\"\"]\n3:I[31295,[],\"\"]\n5:I[59665,[],\"MetadataBoundary\"]\n7:I[59665,[],\"OutletBoundary\"]\na:I[74911,[],\"AsyncMetadataOutlet\"]\nc:I[59665,[],\"ViewportBoundary\"]\ne:I[26614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"KZrMisSdXyu7FDjuS9HOy\",\"p\":\"\",\"c\":[\"\",\"blog\",\"twig-enka-migration-guide\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"twig-enka-migration-guide\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/19bdf9af4d1ae4d4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"type\":\"image/png\"}]}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"twig-enka-migration-guide\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[\"$\",\"$L5\",null,{\"children\":\"$L6\"}],null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"2S2mjdVob8B41tnkhtjxh\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:\"$Sreact.suspense\"\n10:I[74911,[],\"AsyncMetadata\"]\n6:[\"$\",\"$f\",null,{\"fallback\":null,\"children\":[\"$\",\"$L10\",null,{\"promise\":\"$@11\"}]}]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script><script>self.__next_f.push([1,"12:I[6874,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"\"]\n14:I[31203,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n15:I[4197,[\"6874\",\"static/chunks/6874-6c1ddde525f3893c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-26397bcee018c1a3.js\"],\"default\"]\n13:T59d4,"])</script><script>self.__next_f.push([1,"\u003cp\u003ePHPプロジェクトでTwigテンプレートを使用していて、「\u003ccode\u003e\u0026#x3C;twig migrate\u003e\u003c/code\u003eがないとenka的にだめだよ」というエラーに遭遇したことはありませんか？今回は、Twigテンプレートエンジンの基礎から、enka移行ツールの概念、そして実際の移行作業まで、初心者にも分かりやすく解説します。\u003c/p\u003e\n\u003ch2 id=\"-初心者向け解説\"\u003e💡 初心者向け解説\u003c/h2\u003e\n\u003ch3 id=\"そもそもテンプレートエンジンとは\"\u003eそもそもテンプレートエンジンとは？\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e簡単に言うと\u003c/strong\u003e: HTMLの中にプログラムの変数を埋め込んで、動的なWebページを作るツールです。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e例：レストランのメニュー表\n静的HTML：毎日同じメニュー（印刷済み）\nテンプレートエンジン：日替わりメニュー（テンプレートに今日の料理を差し込む）\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"-目次\"\u003e📚 目次\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#twig%E3%81%A8%E3%81%AF%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B\"\u003eTwigとは？基礎から理解する\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#enka%E3%81%A8%E3%81%AF%E7%A7%BB%E8%A1%8C%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE%E5%BD%B9%E5%89%B2\"\u003eenkaとは？移行ツールの役割\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#twig-migrate%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%AE%E5%8E%9F%E5%9B%A0%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95\"\u003e\u003ctwig migrate=\"\"\u003eエラーの原因と対処法\u003c/twig\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#twig%E5%AE%9F%E8%A3%85%E3%81%AE%E5%9F%BA%E6%9C%AC\"\u003eTwig実装の基本\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#enka%E7%A7%BB%E8%A1%8C%E3%81%AE%E5%AE%9F%E8%B7%B5\"\u003eenka移行の実践\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0\"\u003eトラブルシューティング\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E3%83%99%E3%82%B9%E3%83%88%E3%83%97%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%82%B9\"\u003eベストプラクティス\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"twigとは基礎から理解する\"\u003eTwigとは？基礎から理解する\u003c/h2\u003e\n\u003ch3 id=\"-twigの概要\"\u003e🌿 Twigの概要\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eTwig\u003c/strong\u003eは、PHPで最も人気のあるテンプレートエンジンの一つで、Symfonyフレームワークの標準テンプレートエンジンとして採用されています。\u003c/p\u003e\n\u003ch3 id=\"なぜtwigを使うのか\"\u003eなぜTwigを使うのか？\u003c/h3\u003e\n\u003ch4 id=\"1-セキュリティ\"\u003e1. \u003cstrong\u003eセキュリティ\u003c/strong\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// ❌ 危険：生のPHP\n\u0026#x3C;?php echo $_GET['name']; ?\u003e  // XSS脆弱性の危険！\n\n// ✅ 安全：Twig\n{{ name }}  // 自動的にエスケープされる\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"2-可読性\"\u003e2. \u003cstrong\u003e可読性\u003c/strong\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# Twigテンプレートの例 #}\n\u0026#x3C;!DOCTYPE html\u003e\n\u0026#x3C;html\u003e\n\u0026#x3C;head\u003e\n    \u0026#x3C;title\u003e{{ page_title }}\u0026#x3C;/title\u003e\n\u0026#x3C;/head\u003e\n\u0026#x3C;body\u003e\n    \u0026#x3C;h1\u003eようこそ、{{ user.name }}さん！\u0026#x3C;/h1\u003e\n    \n    {% if user.is_premium %}\n        \u0026#x3C;div class=\"premium-content\"\u003e\n            プレミアム会員限定コンテンツ\n        \u0026#x3C;/div\u003e\n    {% endif %}\n    \n    \u0026#x3C;ul\u003e\n    {% for item in items %}\n        \u0026#x3C;li\u003e{{ item.title }} - {{ item.price|number_format }} 円\u0026#x3C;/li\u003e\n    {% endfor %}\n    \u0026#x3C;/ul\u003e\n\u0026#x3C;/body\u003e\n\u0026#x3C;/html\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"3-テンプレート継承\"\u003e3. \u003cstrong\u003eテンプレート継承\u003c/strong\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# base.html.twig - 親テンプレート #}\n\u0026#x3C;!DOCTYPE html\u003e\n\u0026#x3C;html\u003e\n\u0026#x3C;head\u003e\n    \u0026#x3C;title\u003e{% block title %}デフォルトタイトル{% endblock %}\u0026#x3C;/title\u003e\n\u0026#x3C;/head\u003e\n\u0026#x3C;body\u003e\n    \u0026#x3C;header\u003e共通ヘッダー\u0026#x3C;/header\u003e\n    \n    {% block content %}\n        {# 子テンプレートでこの部分を上書き #}\n    {% endblock %}\n    \n    \u0026#x3C;footer\u003e共通フッター\u0026#x3C;/footer\u003e\n\u0026#x3C;/body\u003e\n\u0026#x3C;/html\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# page.html.twig - 子テンプレート #}\n{% extends 'base.html.twig' %}\n\n{% block title %}商品一覧{% endblock %}\n\n{% block content %}\n    \u0026#x3C;h1\u003e商品リスト\u0026#x3C;/h1\u003e\n    {# ページ固有のコンテンツ #}\n{% endblock %}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"twigの基本構文\"\u003eTwigの基本構文\u003c/h3\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003e構文\u003c/th\u003e\u003cth\u003e用途\u003c/th\u003e\u003cth\u003e例\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003e{{ ... }}\u003c/code\u003e\u003c/td\u003e\u003ctd\u003e変数や式の出力\u003c/td\u003e\u003ctd\u003e\u003ccode\u003e{{ user.name }}\u003c/code\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003e{% ... %}\u003c/code\u003e\u003c/td\u003e\u003ctd\u003e制御構造（if、for等）\u003c/td\u003e\u003ctd\u003e\u003ccode\u003e{% if condition %}\u003c/code\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003e{# ... #}\u003c/code\u003e\u003c/td\u003e\u003ctd\u003eコメント\u003c/td\u003e\u003ctd\u003e\u003ccode\u003e{# これはコメント #}\u003c/code\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003e|\u003c/code\u003e\u003c/td\u003e\u003ctd\u003eフィルター\u003c/td\u003e\u003ctd\u003e\u003ccode\u003e{{ price|number_format }}\u003c/code\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2 id=\"enkaとは移行ツールの役割\"\u003eenkaとは？移行ツールの役割\u003c/h2\u003e\n\u003ch3 id=\"-enkaの概念\"\u003e🔄 enkaの概念\u003c/h3\u003e\n\u003cp\u003e**enka（エンカ）**は、テンプレートエンジンの移行や変換を支援するツール・ライブラリの総称です。特にTwigにおいては、以下のような場面で使用されます：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eバージョン移行\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTwig 1.x → 2.x → 3.x への移行\u003c/li\u003e\n\u003cli\u003e非推奨機能の自動変換\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e他のテンプレートエンジンからの移行\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSmarty → Twig\u003c/li\u003e\n\u003cli\u003eBlade → Twig\u003c/li\u003e\n\u003cli\u003e生のPHP → Twig\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e構文の自動変換\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e古い構文から新しい構文への変換\u003c/li\u003e\n\u003cli\u003eカスタムタグの標準化\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"enkaが必要な理由\"\u003eenkaが必要な理由\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// 例：古いPHPテンプレート\n\u0026#x3C;?php foreach($products as $product): ?\u003e\n    \u0026#x3C;div class=\"product\"\u003e\n        \u0026#x3C;h2\u003e\u0026#x3C;?php echo htmlspecialchars($product['name']); ?\u003e\u0026#x3C;/h2\u003e\n        \u0026#x3C;p\u003e価格: \u0026#x3C;?php echo number_format($product['price']); ?\u003e円\u0026#x3C;/p\u003e\n        \u0026#x3C;?php if($product['is_sale']): ?\u003e\n            \u0026#x3C;span class=\"sale\"\u003eセール中！\u0026#x3C;/span\u003e\n        \u0026#x3C;?php endif; ?\u003e\n    \u0026#x3C;/div\u003e\n\u0026#x3C;?php endforeach; ?\u003e\n\n// ↓ enkaで自動変換\n\n// 新しいTwigテンプレート\n{% for product in products %}\n    \u0026#x3C;div class=\"product\"\u003e\n        \u0026#x3C;h2\u003e{{ product.name }}\u0026#x3C;/h2\u003e\n        \u0026#x3C;p\u003e価格: {{ product.price|number_format }}円\u0026#x3C;/p\u003e\n        {% if product.is_sale %}\n            \u0026#x3C;span class=\"sale\"\u003eセール中！\u0026#x3C;/span\u003e\n        {% endif %}\n    \u0026#x3C;/div\u003e\n{% endfor %}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"エラーの原因と対処法\"\u003e\u003ctwig migrate=\"\"\u003eエラーの原因と対処法\u003c/twig\u003e\u003c/h2\u003e\n\u003ch3 id=\"エラーメッセージの意味\"\u003eエラーメッセージの意味\u003c/h3\u003e\n\u003cp\u003e「\u003ccode\u003e\u0026#x3C;twig migrate\u003e\u003c/code\u003eがないとenka的にだめだよ」というエラーは、通常以下の状況で発生します：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e移行設定ファイルの不足\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eenkaライブラリの未インストール\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTwigバージョンの不整合\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"解決方法\"\u003e解決方法\u003c/h3\u003e\n\u003ch4 id=\"ステップ1-必要なパッケージのインストール\"\u003eステップ1: 必要なパッケージのインストール\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Composerでenka移行ツールをインストール\ncomposer require enka/twig-migration-bundle --dev\n\n# Twig本体の最新版をインストール\ncomposer require twig/twig:^3.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"ステップ2-移行設定ファイルの作成\"\u003eステップ2: 移行設定ファイルの作成\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-xml\"\u003e\u0026#x3C;!-- twig-migrate.xml --\u003e\n\u0026#x3C;?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u0026#x3C;twig-migrate\u003e\n    \u0026#x3C;source\u003e\n        \u0026#x3C;directory\u003etemplates/old\u0026#x3C;/directory\u003e\n        \u0026#x3C;pattern\u003e*.html.php\u0026#x3C;/pattern\u003e\n    \u0026#x3C;/source\u003e\n    \n    \u0026#x3C;target\u003e\n        \u0026#x3C;directory\u003etemplates/new\u0026#x3C;/directory\u003e\n        \u0026#x3C;extension\u003e.html.twig\u0026#x3C;/extension\u003e\n    \u0026#x3C;/target\u003e\n    \n    \u0026#x3C;rules\u003e\n        \u0026#x3C;rule type=\"php-echo\" convert=\"twig-output\"/\u003e\n        \u0026#x3C;rule type=\"php-if\" convert=\"twig-condition\"/\u003e\n        \u0026#x3C;rule type=\"php-foreach\" convert=\"twig-loop\"/\u003e\n    \u0026#x3C;/rules\u003e\n    \n    \u0026#x3C;options\u003e\n        \u0026#x3C;auto-escape\u003etrue\u0026#x3C;/auto-escape\u003e\n        \u0026#x3C;strict-variables\u003efalse\u0026#x3C;/strict-variables\u003e\n    \u0026#x3C;/options\u003e\n\u0026#x3C;/twig-migrate\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"ステップ3-移行コマンドの実行\"\u003eステップ3: 移行コマンドの実行\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# enka移行ツールを実行\nphp vendor/bin/enka migrate:twig --config=twig-migrate.xml\n\n# または、Symfonyコンソールを使用\nphp bin/console enka:migrate:twig\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"twig実装の基本\"\u003eTwig実装の基本\u003c/h2\u003e\n\u003ch3 id=\"基本的なセットアップ\"\u003e基本的なセットアップ\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// index.php\nrequire_once 'vendor/autoload.php';\n\nuse Twig\\Environment;\nuse Twig\\Loader\\FilesystemLoader;\n\n// テンプレートディレクトリの設定\n$loader = new FilesystemLoader('templates');\n\n// Twig環境の初期化\n$twig = new Environment($loader, [\n    'cache' =\u003e 'cache/twig',  // キャッシュディレクトリ\n    'debug' =\u003e true,           // デバッグモード\n    'auto_reload' =\u003e true      // テンプレートの自動リロード\n]);\n\n// データの準備\n$data = [\n    'title' =\u003e '商品一覧',\n    'products' =\u003e [\n        ['name' =\u003e 'ノートPC', 'price' =\u003e 98000, 'is_sale' =\u003e true],\n        ['name' =\u003e 'マウス', 'price' =\u003e 2980, 'is_sale' =\u003e false],\n        ['name' =\u003e 'キーボード', 'price' =\u003e 12800, 'is_sale' =\u003e true]\n    ],\n    'user' =\u003e [\n        'name' =\u003e '田中太郎',\n        'is_premium' =\u003e true\n    ]\n];\n\n// テンプレートのレンダリング\necho $twig-\u003erender('products.html.twig', $data);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"カスタムフィルターの作成\"\u003eカスタムフィルターの作成\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// カスタムフィルターの定義\n$filter = new \\Twig\\TwigFilter('price_format', function ($price) {\n    return '¥' . number_format($price);\n});\n\n// Twigに登録\n$twig-\u003eaddFilter($filter);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# テンプレートでの使用 #}\n{{ product.price|price_format }}  {# 出力: ¥98,000 #}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"enka移行の実践\"\u003eenka移行の実践\u003c/h2\u003e\n\u003ch3 id=\"実践的な移行例\"\u003e実践的な移行例\u003c/h3\u003e\n\u003ch4 id=\"1-プロジェクト構造の準備\"\u003e1. プロジェクト構造の準備\u003c/h4\u003e\n\u003cpre\u003e\u003ccode\u003eproject/\n├── composer.json\n├── twig-migrate.xml\n├── src/\n│   └── Migration/\n│       └── TwigMigrator.php\n├── templates/\n│   ├── old/          # 移行元（古いテンプレート）\n│   │   ├── header.php\n│   │   ├── footer.php\n│   │   └── products.php\n│   └── new/          # 移行先（Twigテンプレート）\n└── cache/\n    └── twig/\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"2-カスタム移行スクリプト\"\u003e2. カスタム移行スクリプト\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// src/Migration/TwigMigrator.php\n\u0026#x3C;?php\n\nnamespace App\\Migration;\n\nclass TwigMigrator\n{\n    private $sourceDir;\n    private $targetDir;\n    private $rules = [];\n    \n    public function __construct($sourceDir, $targetDir)\n    {\n        $this-\u003esourceDir = $sourceDir;\n        $this-\u003etargetDir = $targetDir;\n        $this-\u003einitializeRules();\n    }\n    \n    private function initializeRules()\n    {\n        // PHP echo文をTwig出力に変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/\u0026#x3C;\\?php\\s+echo\\s+(.+?);\\s*\\?\u003e/',\n            'replacement' =\u003e '{{ $1 }}'\n        ];\n        \n        // htmlspecialcharsの変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/htmlspecialchars\\((.+?)\\)/',\n            'replacement' =\u003e '$1'  // Twigは自動エスケープ\n        ];\n        \n        // foreach文の変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/\u0026#x3C;\\?php\\s+foreach\\s*\\((.+?)\\s+as\\s+(.+?)\\):\\s*\\?\u003e/',\n            'replacement' =\u003e '{% for $2 in $1 %}'\n        ];\n        \n        // endforeachの変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/\u0026#x3C;\\?php\\s+endforeach;\\s*\\?\u003e/',\n            'replacement' =\u003e '{% endfor %}'\n        ];\n        \n        // if文の変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/\u0026#x3C;\\?php\\s+if\\s*\\((.+?)\\):\\s*\\?\u003e/',\n            'replacement' =\u003e '{% if $1 %}'\n        ];\n        \n        // endifの変換\n        $this-\u003erules[] = [\n            'pattern' =\u003e '/\u0026#x3C;\\?php\\s+endif;\\s*\\?\u003e/',\n            'replacement' =\u003e '{% endif %}'\n        ];\n    }\n    \n    public function migrate($filename)\n    {\n        $sourcePath = $this-\u003esourceDir . '/' . $filename;\n        $content = file_get_contents($sourcePath);\n        \n        // ルールを適用\n        foreach ($this-\u003erules as $rule) {\n            $content = preg_replace(\n                $rule['pattern'],\n                $rule['replacement'],\n                $content\n            );\n        }\n        \n        // 配列アクセスをオブジェクトアクセスに変換\n        $content = preg_replace(\n            '/\\[\\'(.+?)\\'\\]/',\n            '.$1',\n            $content\n        );\n        \n        // ファイル拡張子を変更\n        $newFilename = str_replace('.php', '.html.twig', $filename);\n        $targetPath = $this-\u003etargetDir . '/' . $newFilename;\n        \n        // 変換結果を保存\n        file_put_contents($targetPath, $content);\n        \n        return [\n            'source' =\u003e $filename,\n            'target' =\u003e $newFilename,\n            'status' =\u003e 'success'\n        ];\n    }\n    \n    public function migrateAll()\n    {\n        $files = glob($this-\u003esourceDir . '/*.php');\n        $results = [];\n        \n        foreach ($files as $file) {\n            $filename = basename($file);\n            $results[] = $this-\u003emigrate($filename);\n        }\n        \n        return $results;\n    }\n}\n\n// 使用例\n$migrator = new TwigMigrator('templates/old', 'templates/new');\n$results = $migrator-\u003emigrateAll();\n\nforeach ($results as $result) {\n    echo sprintf(\n        \"✅ %s → %s: %s\\n\",\n        $result['source'],\n        $result['target'],\n        $result['status']\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"トラブルシューティング\"\u003eトラブルシューティング\u003c/h2\u003e\n\u003ch3 id=\"よくある問題と解決策\"\u003eよくある問題と解決策\u003c/h3\u003e\n\u003ch4 id=\"1-キャッシュ関連のエラー\"\u003e1. キャッシュ関連のエラー\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e問題\u003c/strong\u003e: 「Unable to write in the cache directory」\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決策\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# キャッシュディレクトリの権限を設定\nchmod -R 777 cache/twig\n\n# または、キャッシュをクリア\nrm -rf cache/twig/*\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"2-変数が未定義エラー\"\u003e2. 変数が未定義エラー\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e問題\u003c/strong\u003e: 「Variable \"xxx\" does not exist」\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決策\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# 変数の存在チェック #}\n{% if product is defined %}\n    {{ product.name }}\n{% endif %}\n\n{# デフォルト値の設定 #}\n{{ product.name|default('商品名なし') }}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"3-フィルターが見つからない\"\u003e3. フィルターが見つからない\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e問題\u003c/strong\u003e: 「Unknown filter \"xxx\"」\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決策\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// PHPでカスタムフィルターを登録\n$twig-\u003eaddFilter(new \\Twig\\TwigFilter('custom_filter', function($value) {\n    return strtoupper($value);\n}));\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"4-テンプレートが見つからない\"\u003e4. テンプレートが見つからない\u003c/h4\u003e\n\u003cp\u003e\u003cstrong\u003e問題\u003c/strong\u003e: 「Unable to find template \"xxx.html.twig\"」\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e解決策\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// 複数のテンプレートディレクトリを設定\n$loader = new FilesystemLoader([\n    'templates',\n    'templates/partials',\n    'templates/layouts'\n]);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"ベストプラクティス\"\u003eベストプラクティス\u003c/h2\u003e\n\u003ch3 id=\"1-ディレクトリ構造の整理\"\u003e1. ディレクトリ構造の整理\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003etemplates/\n├── layouts/          # レイアウトテンプレート\n│   └── base.html.twig\n├── partials/         # 部分テンプレート\n│   ├── header.html.twig\n│   └── footer.html.twig\n├── pages/           # ページテンプレート\n│   ├── home.html.twig\n│   └── products/\n│       ├── list.html.twig\n│       └── detail.html.twig\n└── macros/          # マクロ定義\n    └── forms.html.twig\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"2-マクロの活用\"\u003e2. マクロの活用\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# macros/forms.html.twig #}\n{% macro input(name, value, type = \"text\") %}\n    \u0026#x3C;input type=\"{{ type }}\" name=\"{{ name }}\" value=\"{{ value }}\" class=\"form-control\"\u003e\n{% endmacro %}\n\n{# 使用例 #}\n{% import \"macros/forms.html.twig\" as forms %}\n{{ forms.input('username', user.name) }}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-環境別設定\"\u003e3. 環境別設定\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// 開発環境\n$twig = new Environment($loader, [\n    'debug' =\u003e true,\n    'cache' =\u003e false,\n    'strict_variables' =\u003e true\n]);\n\n// 本番環境\n$twig = new Environment($loader, [\n    'debug' =\u003e false,\n    'cache' =\u003e 'cache/twig',\n    'strict_variables' =\u003e false,\n    'optimizations' =\u003e -1  // すべての最適化を有効化\n]);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"4-セキュリティ対策\"\u003e4. セキュリティ対策\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-twig\"\u003e{# 自動エスケープ（デフォルト） #}\n{{ user_input }}\n\n{# 生のHTML出力（信頼できる場合のみ） #}\n{{ trusted_html|raw }}\n\n{# URLエンコード #}\n\u0026#x3C;a href=\"?search={{ search_query|url_encode }}\"\u003e検索\u0026#x3C;/a\u003e\n\n{# JSONエンコード #}\n\u0026#x3C;script\u003e\n    var data = {{ data|json_encode|raw }};\n\u0026#x3C;/script\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"5-パフォーマンス最適化\"\u003e5. パフォーマンス最適化\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// テンプレートのプリコンパイル\n$twig-\u003esetCache('cache/twig');\n$twig-\u003esetAutoReload(false);  // 本番環境では無効化\n\n// 使用するテンプレートを事前にロード\n$twig-\u003eload('products/list.html.twig');\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"symfonyでの実装例\"\u003eSymfonyでの実装例\u003c/h2\u003e\n\u003ch3 id=\"symfony環境での設定\"\u003eSymfony環境での設定\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# config/packages/twig.yaml\ntwig:\n    default_path: '%kernel.project_dir%/templates'\n    debug: '%kernel.debug%'\n    strict_variables: '%kernel.debug%'\n    form_themes:\n        - 'bootstrap_4_layout.html.twig'\n    globals:\n        app_name: 'My Application'\n        app_version: '1.0.0'\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"controllerでの使用\"\u003eControllerでの使用\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// src/Controller/ProductController.php\nnamespace App\\Controller;\n\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController;\nuse Symfony\\Component\\HttpFoundation\\Response;\nuse Symfony\\Component\\Routing\\Annotation\\Route;\n\nclass ProductController extends AbstractController\n{\n    #[Route('/products', name: 'product_list')]\n    public function list(): Response\n    {\n        $products = $this-\u003egetDoctrine()\n            -\u003egetRepository(Product::class)\n            -\u003efindAll();\n        \n        return $this-\u003erender('products/list.html.twig', [\n            'products' =\u003e $products,\n            'page_title' =\u003e '商品一覧'\n        ]);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"移行チェックリスト\"\u003e移行チェックリスト\u003c/h2\u003e\n\u003cp\u003e移行作業を行う際の確認事項：\u003c/p\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e バックアップの作成\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e Composerパッケージのインストール\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e twig-migrate.xml設定ファイルの作成\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e テンプレートディレクトリの準備\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e キャッシュディレクトリの権限設定\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e カスタムフィルター・関数の移行\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e グローバル変数の設定\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e テンプレート継承構造の確認\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 移行スクリプトの実行\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 移行結果のテスト\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e パフォーマンステスト\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e 本番環境へのデプロイ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"まとめ\"\u003eまとめ\u003c/h2\u003e\n\u003cp\u003eTwigテンプレートエンジンとenka移行ツールについて、基礎から実践まで解説しました。\u003c/p\u003e\n\u003ch3 id=\"-重要なポイント\"\u003e🎯 重要なポイント\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eTwigの利点\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eセキュリティ（自動エスケープ）\u003c/li\u003e\n\u003cli\u003e可読性の高い構文\u003c/li\u003e\n\u003cli\u003e強力なテンプレート継承\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eenkaの役割\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e既存テンプレートの自動変換\u003c/li\u003e\n\u003cli\u003eバージョン間の移行支援\u003c/li\u003e\n\u003cli\u003e構文の標準化\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e移行時の注意点\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e必ずバックアップを取る\u003c/li\u003e\n\u003cli\u003e段階的に移行する\u003c/li\u003e\n\u003cli\u003eテストを十分に行う\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eベストプラクティス\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eディレクトリ構造の整理\u003c/li\u003e\n\u003cli\u003eマクロの活用\u003c/li\u003e\n\u003cli\u003e環境別設定の使い分け\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;twig migrate\u003e\u003c/code\u003eエラーが発生した場合は、まず設定ファイルの存在と、必要なパッケージのインストール状況を確認しましょう。適切な移行ツールを使用することで、効率的にTwigへの移行を完了できます。\u003c/p\u003e\n\u003ch2 id=\"参考リンク\"\u003e参考リンク\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://twig.symfony.com/doc/3.x/\"\u003eTwig公式ドキュメント\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://symfony.com/doc/current/templates.html\"\u003eSymfony Twigガイド\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://twig.symfony.com/doc/3.x/templates.html\"\u003eTwig for Template Designers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://twig.symfony.com/doc/3.x/api.html\"\u003eTwig for Developers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://getcomposer.org/\"\u003eComposer公式サイト\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cem\u003eこの記事は、PHPテンプレートエンジンの移行作業における実践的な知識と経験に基づいて作成されました。\u003c/em\u003e\u003c/p\u003e"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold mb-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-green-600\",\"children\":[\"#\",39]}],\" \",\"Twigテンプレートエンジンとenka移行ツール完全ガイド - \u003ctwig migrate\u003eエラーの解決から実装まで\"]}],[\"$\",\"ul\",null,{\"className\":\"list-none border-b border-gray-600 pb-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":[\"作成日時: \",\"2025-08-20 01:48\"]}],[\"$\",\"li\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":[\"更新日時: \",\"2025-08-20 01:48\"]}],[\"$\",\"li\",null,{\"className\":\"flex flex-wrap gap-2 mt-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Twig\"}],[\"$\",\"span\",\"1\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"enka\"}],[\"$\",\"span\",\"2\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"PHP\"}],[\"$\",\"span\",\"3\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"テンプレートエンジン\"}],[\"$\",\"span\",\"4\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"移行ツール\"}],[\"$\",\"span\",\"5\",{\"className\":\"px-2 py-1 bg-gray-800 text-gray-300 rounded text-xs\",\"children\":\"Symfony\"}]]}]]}],[\"$\",\"nav\",null,{\"className\":\"mb-6 pb-4 border-b border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose dark:prose-invert\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}],[\"$\",\"$L14\",null,{}],[\"$\",\"nav\",null,{\"className\":\"mt-8 pt-4 border-t border-gray-700 flex justify-between\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"← ホームへ\"}],[\"$\",\"$L12\",null,{\"href\":\"/blog\",\"className\":\"text-blue-400 hover:text-blue-300 hover:underline\",\"children\":\"記事一覧へ →\"}]]}],[\"$\",\"$L15\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"11:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Maita Tomoya Dev IO\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"米田智哉の技術ブログ。キャッチアップしたことをメモします。\"}]],\"error\":null,\"digest\":\"$undefined\"}\nb:{\"metadata\":\"$11:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>